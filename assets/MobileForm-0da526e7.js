import{d as e,r as s,j as n,aH as l,W as a,av as i,aw as o,J as t,aN as r}from"./.pnpm-05c560be.js";import{ReturnButton as m}from"./ReturnButton-4618c384.js";import{g as c,i as d}from"./index-56568590.js";const{Countdown:x}=r;function u(){const{t:r}=e(),[u,h]=s.useState(0),[j,g]=s.useState(0),{loginState:p,backToLogin:f}=c();if(p!==d.MOBILE)return null;const y=()=>{h(0),g(60)};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"mb-4 text-2xl font-bold xl:text-3xl",children:r("sys.login.mobileSignInFormTitle")}),n.jsxs(l,{name:"normal_login",size:"large",initialValues:{remember:!0},onFinish:e=>{},children:[n.jsx(l.Item,{name:"phone",rules:[{required:!0,message:"Please input your Phone!"}],children:n.jsx(a,{placeholder:r("sys.login.mobile")})}),n.jsx(l.Item,{name:"code",rules:[{required:!0,message:r("sys.login.mobilePlaceholder")}],children:n.jsxs(i,{justify:"space-between",children:[n.jsx(o,{span:14,children:n.jsx(a,{placeholder:r("sys.login.smsCode")})}),n.jsx(o,{span:9,flex:1,children:n.jsx(t,{disabled:0!==u,className:"w-full !text-sm",onClick:()=>{h(60),g(60)},children:0===u?n.jsx("span",{children:r("sys.login.sendSmsButton")}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(x,{className:"hidden",value:Date.now()+1e3*u,onChange:e=>{h(Number(e)/1e3),g(Math.floor(Number(e)/1e3))},format:"ss",onFinish:y}),n.jsx("span",{className:"ml-1",children:r("sys.login.sendSmsText",{second:j})})]})})})]})}),n.jsx(l.Item,{children:n.jsx(t,{type:"primary",htmlType:"submit",className:"w-full",children:r("sys.login.loginButton")})}),n.jsx(m,{onClick:()=>{y(),f()}})]})]})}export{u as default};
