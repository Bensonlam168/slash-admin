import{R as e,r as l,W as a,aL as t,aB as n,aw as s,X as r,b5 as o,b6 as i,aV as u,ay as c}from"./index-567a2a6f.js";import{C as d}from"./index-3bbc16d8.js";import{u as p}from"./index-77819d7a.js";const f=e.createContext(null);var m=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const v=(e,u)=>{var c;const{prefixCls:v,className:b,rootClassName:g,children:y,indeterminate:h=!1,style:x,onMouseEnter:C,onMouseLeave:O,skipGroup:j=!1,disabled:E}=e,N=m(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:w,direction:k,checkbox:P}=l.useContext(a),V=l.useContext(f),{isFormItemInput:$}=l.useContext(t),M=l.useContext(n),S=null!==(c=(null==V?void 0:V.disabled)||E)&&void 0!==c?c:M,_=l.useRef(N.value);l.useEffect((()=>{null==V||V.registerValue(N.value)}),[]),l.useEffect((()=>{if(!j)return N.value!==_.current&&(null==V||V.cancelValue(_.current),null==V||V.registerValue(N.value),_.current=N.value),()=>null==V?void 0:V.cancelValue(N.value)}),[N.value]);const I=w("checkbox",v),T=s(I),[L,R,G]=p(I,T),q=Object.assign({},N);V&&!j&&(q.onChange=function(){N.onChange&&N.onChange.apply(N,arguments),V.toggleOption&&V.toggleOption({label:y,value:N.value})},q.name=V.name,q.checked=V.value.includes(N.value));const A=r(`${I}-wrapper`,{[`${I}-rtl`]:"rtl"===k,[`${I}-wrapper-checked`]:q.checked,[`${I}-wrapper-disabled`]:S,[`${I}-wrapper-in-form-item`]:$},null==P?void 0:P.className,b,g,G,T,R),B=r({[`${I}-indeterminate`]:h},o,R),X=h?"mixed":void 0;return L(l.createElement(i,{component:"Checkbox",disabled:S},l.createElement("label",{className:A,style:Object.assign(Object.assign({},null==P?void 0:P.style),x),onMouseEnter:C,onMouseLeave:O},l.createElement(d,Object.assign({"aria-checked":X},q,{prefixCls:I,className:B,disabled:S,ref:u})),void 0!==y&&l.createElement("span",null,y))))},b=l.forwardRef(v);var g=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const y=l.forwardRef(((e,t)=>{const{defaultValue:n,children:o,options:i=[],prefixCls:d,className:m,rootClassName:v,style:y,onChange:h}=e,x=g(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:C,direction:O}=l.useContext(a),[j,E]=l.useState(x.value||n||[]),[N,w]=l.useState([]);l.useEffect((()=>{"value"in x&&E(x.value||[])}),[x.value]);const k=l.useMemo((()=>i.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[i]),P=C("checkbox",d),V=`${P}-group`,$=s(P),[M,S,_]=p(P,$),I=u(x,["value","disabled"]),T=i.length?k.map((e=>l.createElement(b,{prefixCls:P,key:e.value.toString(),disabled:"disabled"in e?e.disabled:x.disabled,value:e.value,checked:j.includes(e.value),onChange:e.onChange,className:`${V}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label))):o,L={toggleOption:e=>{const l=j.indexOf(e.value),a=c(j);-1===l?a.push(e.value):a.splice(l,1),"value"in x||E(a),null==h||h(a.filter((e=>N.includes(e))).sort(((e,l)=>k.findIndex((l=>l.value===e))-k.findIndex((e=>e.value===l)))))},value:j,disabled:x.disabled,name:x.name,registerValue:e=>{w((l=>[].concat(c(l),[e])))},cancelValue:e=>{w((l=>l.filter((l=>l!==e))))}},R=r(V,{[`${V}-rtl`]:"rtl"===O},m,v,_,$,S);return M(l.createElement("div",Object.assign({className:R,style:y},I,{ref:t}),l.createElement(f.Provider,{value:L},T)))})),h=b;h.Group=y,h.__ANT_CHECKBOX=!0;const x=h;export{x as C};
