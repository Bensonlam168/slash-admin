import{aH as e,r as s,b3 as a,j as l,H as t,a1 as n,av as r,aw as i,W as o,a_ as c,J as d,b1 as x,b4 as m,V as h,b5 as j,aF as u}from"./.pnpm-05c560be.js";import{P as b,l as p,I as f,o as g}from"./index-46220b14.js";import w from"./organization-chart-703cfb73.js";function y(){const[h]=e.useForm(),[j,u]=s.useState({formValue:{id:"",name:"",status:"enable"},title:"New",show:!1,onOk:()=>{u((e=>({...e,show:!1})))},onCancel:()=>{u((e=>({...e,show:!1})))}}),y=[{title:"Name",dataIndex:"name",width:300},{title:"Order",dataIndex:"order",align:"center",width:60},{title:"Status",dataIndex:"status",align:"center",width:120,render:e=>l.jsx(b,{color:"enable"===e?"success":"error",children:e})},{title:"Desc",dataIndex:"desc",align:"center",width:300},{title:"Action",key:"operation",align:"center",width:100,render:(e,s)=>l.jsxs("div",{className:"flex w-full justify-center text-gray",children:[l.jsx(p,{onClick:()=>I(s),children:l.jsx(f,{icon:"solar:pen-bold-duotone",size:18})}),l.jsx(m,{title:"Delete the Organization",okText:"Yes",cancelText:"No",placement:"left",children:l.jsx(p,{children:l.jsx(f,{icon:"mingcute:delete-2-fill",size:18,className:"text-error"})})})]})}],{data:C}=a({queryKey:["orgs"],queryFn:g.getOrgList}),I=e=>{u((s=>({...s,show:!0,title:"Edit",formValue:e})))};return l.jsxs(t,{direction:"vertical",size:"large",className:"w-full",children:[l.jsx(n,{children:l.jsx(e,{form:h,children:l.jsxs(r,{gutter:[16,16],children:[l.jsx(i,{span:24,lg:6,children:l.jsx(e.Item,{label:"Name",name:"name",className:"!mb-0",children:l.jsx(o,{})})}),l.jsx(i,{span:24,lg:6,children:l.jsx(e.Item,{label:"Status",name:"status",className:"!mb-0",children:l.jsxs(c,{children:[l.jsx(c.Option,{value:"enable",children:l.jsx(b,{color:"success",children:"Enable"})}),l.jsx(c.Option,{value:"disable",children:l.jsx(b,{color:"error",children:"Disable"})})]})})}),l.jsx(i,{span:24,lg:12,children:l.jsxs("div",{className:"flex justify-end",children:[l.jsx(d,{onClick:()=>{h.resetFields()},children:"Reset"}),l.jsx(d,{type:"primary",className:"ml-4",children:"Search"})]})})]})})}),l.jsx(n,{title:"Organization List",extra:l.jsx(d,{type:"primary",onClick:()=>{u((e=>({...e,show:!0,title:"Create New",formValue:{...e.formValue,id:"",name:"",order:1,desc:"",status:"enable"}})))},children:"New"}),children:l.jsx(x,{rowKey:"id",size:"small",scroll:{x:"max-content"},pagination:!1,columns:y,dataSource:C,rowSelection:{onChange:(e,s)=>{},onSelect:(e,s,a)=>{},onSelectAll:(e,s,a)=>{}}})}),l.jsx(n,{title:"Organization Chart",children:l.jsx(w,{organizations:C})}),l.jsx(N,{...j})]})}function N({title:a,show:t,formValue:n,onOk:r,onCancel:i}){const[c]=e.useForm();return s.useEffect((()=>{c.setFieldsValue({...n})}),[n,c]),l.jsx(h,{title:a,open:t,onOk:r,onCancel:i,children:l.jsxs(e,{initialValues:n,form:c,labelCol:{span:4},wrapperCol:{span:18},layout:"horizontal",children:[l.jsx(e.Item,{label:"Name",name:"name",required:!0,children:l.jsx(o,{})}),l.jsx(e.Item,{label:"Order",name:"order",required:!0,children:l.jsx(j,{style:{width:"100%"}})}),l.jsx(e.Item,{label:"Status",name:"status",required:!0,children:l.jsxs(u.Group,{optionType:"button",buttonStyle:"solid",children:[l.jsx(u,{value:"enable",children:" Enable "}),l.jsx(u,{value:"disable",children:" Disable "})]})}),l.jsx(e.Item,{label:"Desc",name:"desc",children:l.jsx(o.TextArea,{})})]})})}export{y as default};
