import{R as K,r as s,B as A,aG as W,ay as X,D as R,aZ as Z,a_ as q,ao as J,av as T}from"./index-a174239d.js";import{C as Q}from"./index-029d3301.js";import{u as D}from"./index-d7294c5d.js";const U=K.createContext(null),L=U;var Y=globalThis&&globalThis.__rest||function(l,u){var r={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&u.indexOf(e)<0&&(r[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)u.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(r[e[n]]=l[e[n]]);return r};const ee=(l,u)=>{var r;const{prefixCls:e,className:n,rootClassName:k,children:p,indeterminate:h=!1,style:E,onMouseEnter:x,onMouseLeave:i,skipGroup:g=!1,disabled:N}=l,o=Y(l,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:y,direction:P,checkbox:d}=s.useContext(A),t=s.useContext(L),{isFormItemInput:w}=s.useContext(W),S=s.useContext(X),C=(r=t?.disabled||N)!==null&&r!==void 0?r:S,f=s.useRef(o.value);s.useEffect(()=>{t?.registerValue(o.value)},[]),s.useEffect(()=>{if(!g)return o.value!==f.current&&(t?.cancelValue(f.current),t?.registerValue(o.value),f.current=o.value),()=>t?.cancelValue(o.value)},[o.value]);const c=y("checkbox",e),[_,O]=D(c),m=Object.assign({},o);t&&!g&&(m.onChange=function(){o.onChange&&o.onChange.apply(o,arguments),t.toggleOption&&t.toggleOption({label:p,value:o.value})},m.name=t.name,m.checked=t.value.includes(o.value));const $=R(`${c}-wrapper`,{[`${c}-rtl`]:P==="rtl",[`${c}-wrapper-checked`]:m.checked,[`${c}-wrapper-disabled`]:C,[`${c}-wrapper-in-form-item`]:w},d?.className,n,k,O),I=R({[`${c}-indeterminate`]:h},Z,O),j=h?"mixed":void 0;return _(s.createElement(q,{component:"Checkbox",disabled:C},s.createElement("label",{className:$,style:Object.assign(Object.assign({},d?.style),E),onMouseEnter:x,onMouseLeave:i},s.createElement(Q,Object.assign({"aria-checked":j},m,{prefixCls:c,className:I,disabled:C,ref:u})),p!==void 0&&s.createElement("span",null,p))))},te=s.forwardRef(ee),B=te;var ae=globalThis&&globalThis.__rest||function(l,u){var r={};for(var e in l)Object.prototype.hasOwnProperty.call(l,e)&&u.indexOf(e)<0&&(r[e]=l[e]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(l);n<e.length;n++)u.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(l,e[n])&&(r[e[n]]=l[e[n]]);return r};const se=(l,u)=>{const{defaultValue:r,children:e,options:n=[],prefixCls:k,className:p,rootClassName:h,style:E,onChange:x}=l,i=ae(l,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:g,direction:N}=s.useContext(A),[o,y]=s.useState(i.value||r||[]),[P,d]=s.useState([]);s.useEffect(()=>{"value"in i&&y(i.value||[])},[i.value]);const t=s.useMemo(()=>n.map(a=>typeof a=="string"||typeof a=="number"?{label:a,value:a}:a),[n]),w=a=>{d(v=>v.filter(b=>b!==a))},S=a=>{d(v=>[].concat(T(v),[a]))},C=a=>{const v=o.indexOf(a.value),b=T(o);v===-1?b.push(a.value):b.splice(v,1),"value"in i||y(b),x?.(b.filter(V=>P.includes(V)).sort((V,z)=>{const F=t.findIndex(G=>G.value===V),H=t.findIndex(G=>G.value===z);return F-H}))},f=g("checkbox",k),c=`${f}-group`,[_,O]=D(f),m=J(i,["value","disabled"]),$=n.length?t.map(a=>s.createElement(B,{prefixCls:f,key:a.value.toString(),disabled:"disabled"in a?a.disabled:i.disabled,value:a.value,checked:o.includes(a.value),onChange:a.onChange,className:`${c}-item`,style:a.style,title:a.title},a.label)):e,I={toggleOption:C,value:o,disabled:i.disabled,name:i.name,registerValue:S,cancelValue:w},j=R(c,{[`${c}-rtl`]:N==="rtl"},p,h,O);return _(s.createElement("div",Object.assign({className:j,style:E},m,{ref:u}),s.createElement(L.Provider,{value:I},$)))},le=s.forwardRef(se),ne=s.memo(le),M=B;M.Group=ne;M.__ANT_CHECKBOX=!0;const ie=M;export{ie as C};
