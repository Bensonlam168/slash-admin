import{R as e,r as l,Q as a,aF as t,aw as n,U as s,b0 as r,b1 as o,aP as i,at as u}from"./index-c68ff95f.js";import{C as c}from"./index-bdbb5a4e.js";import{u as d}from"./index-c459cace.js";const p=e.createContext(null);var f=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const m=(e,i)=>{var u;const{prefixCls:m,className:v,rootClassName:b,children:g,indeterminate:y=!1,style:h,onMouseEnter:x,onMouseLeave:C,skipGroup:O=!1,disabled:j}=e,E=f(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:N,direction:w,checkbox:k}=l.useContext(a),P=l.useContext(p),{isFormItemInput:$}=l.useContext(t),V=l.useContext(n),M=null!==(u=(null==P?void 0:P.disabled)||j)&&void 0!==u?u:V,S=l.useRef(E.value);l.useEffect((()=>{null==P||P.registerValue(E.value)}),[]),l.useEffect((()=>{if(!O)return E.value!==S.current&&(null==P||P.cancelValue(S.current),null==P||P.registerValue(E.value),S.current=E.value),()=>null==P?void 0:P.cancelValue(E.value)}),[E.value]);const _=N("checkbox",m),[I,T]=d(_),R=Object.assign({},E);P&&!O&&(R.onChange=function(){E.onChange&&E.onChange.apply(E,arguments),P.toggleOption&&P.toggleOption({label:g,value:E.value})},R.name=P.name,R.checked=P.value.includes(E.value));const G=s(`${_}-wrapper`,{[`${_}-rtl`]:"rtl"===w,[`${_}-wrapper-checked`]:R.checked,[`${_}-wrapper-disabled`]:M,[`${_}-wrapper-in-form-item`]:$},null==k?void 0:k.className,v,b,T),L=s({[`${_}-indeterminate`]:y},r,T),A=y?"mixed":void 0;return I(l.createElement(o,{component:"Checkbox",disabled:M},l.createElement("label",{className:G,style:Object.assign(Object.assign({},null==k?void 0:k.style),h),onMouseEnter:x,onMouseLeave:C},l.createElement(c,Object.assign({"aria-checked":A},R,{prefixCls:_,className:L,disabled:M,ref:i})),void 0!==g&&l.createElement("span",null,g))))},v=l.forwardRef(m);var b=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const g=(e,t)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:c,className:f,rootClassName:m,style:g,onChange:y}=e,h=b(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:x,direction:C}=l.useContext(a),[O,j]=l.useState(h.value||n||[]),[E,N]=l.useState([]);l.useEffect((()=>{"value"in h&&j(h.value||[])}),[h.value]);const w=l.useMemo((()=>o.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[o]),k=x("checkbox",c),P=`${k}-group`,[$,V]=d(k),M=i(h,["value","disabled"]),S=o.length?w.map((e=>l.createElement(v,{prefixCls:k,key:e.value.toString(),disabled:"disabled"in e?e.disabled:h.disabled,value:e.value,checked:O.includes(e.value),onChange:e.onChange,className:`${P}-item`,style:e.style,title:e.title},e.label))):r,_={toggleOption:e=>{const l=O.indexOf(e.value),a=u(O);-1===l?a.push(e.value):a.splice(l,1),"value"in h||j(a),null==y||y(a.filter((e=>E.includes(e))).sort(((e,l)=>w.findIndex((l=>l.value===e))-w.findIndex((e=>e.value===l)))))},value:O,disabled:h.disabled,name:h.name,registerValue:e=>{N((l=>[].concat(u(l),[e])))},cancelValue:e=>{N((l=>l.filter((l=>l!==e))))}},I=s(P,{[`${P}-rtl`]:"rtl"===C},f,m,V);return $(l.createElement("div",Object.assign({className:I,style:g},M,{ref:t}),l.createElement(p.Provider,{value:_},S)))},y=l.forwardRef(g),h=l.memo(y),x=v;x.Group=h,x.__ANT_CHECKBOX=!0;const C=x;export{C};
