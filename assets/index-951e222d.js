import{R as e,r as l,U as a,aG as t,ax as n,V as s,b1 as r,b2 as o,aQ as i,au as u}from"./index-e852e44b.js";import{C as c}from"./index-fa2f426d.js";import{u as d}from"./index-65e4d254.js";const p=e.createContext(null);var f=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const m=(e,i)=>{var u;const{prefixCls:m,className:v,rootClassName:b,children:g,indeterminate:x=!1,style:y,onMouseEnter:h,onMouseLeave:C,skipGroup:O=!1,disabled:j}=e,E=f(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:N,direction:k,checkbox:w}=l.useContext(a),P=l.useContext(p),{isFormItemInput:V}=l.useContext(t),$=l.useContext(n),M=null!==(u=(null==P?void 0:P.disabled)||j)&&void 0!==u?u:$,S=l.useRef(E.value);l.useEffect((()=>{null==P||P.registerValue(E.value)}),[]),l.useEffect((()=>{if(!O)return E.value!==S.current&&(null==P||P.cancelValue(S.current),null==P||P.registerValue(E.value),S.current=E.value),()=>null==P?void 0:P.cancelValue(E.value)}),[E.value]);const _=N("checkbox",m),[I,T]=d(_),G=Object.assign({},E);P&&!O&&(G.onChange=function(){E.onChange&&E.onChange.apply(E,arguments),P.toggleOption&&P.toggleOption({label:g,value:E.value})},G.name=P.name,G.checked=P.value.includes(E.value));const R=s(`${_}-wrapper`,{[`${_}-rtl`]:"rtl"===k,[`${_}-wrapper-checked`]:G.checked,[`${_}-wrapper-disabled`]:M,[`${_}-wrapper-in-form-item`]:V},null==w?void 0:w.className,v,b,T),L=s({[`${_}-indeterminate`]:x},r,T),A=x?"mixed":void 0;return I(l.createElement(o,{component:"Checkbox",disabled:M},l.createElement("label",{className:R,style:Object.assign(Object.assign({},null==w?void 0:w.style),y),onMouseEnter:h,onMouseLeave:C},l.createElement(c,Object.assign({"aria-checked":A},G,{prefixCls:_,className:L,disabled:M,ref:i})),void 0!==g&&l.createElement("span",null,g))))},v=l.forwardRef(m);var b=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const g=(e,t)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:c,className:f,rootClassName:m,style:g,onChange:x}=e,y=b(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:h,direction:C}=l.useContext(a),[O,j]=l.useState(y.value||n||[]),[E,N]=l.useState([]);l.useEffect((()=>{"value"in y&&j(y.value||[])}),[y.value]);const k=l.useMemo((()=>o.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[o]),w=h("checkbox",c),P=`${w}-group`,[V,$]=d(w),M=i(y,["value","disabled"]),S=o.length?k.map((e=>l.createElement(v,{prefixCls:w,key:e.value.toString(),disabled:"disabled"in e?e.disabled:y.disabled,value:e.value,checked:O.includes(e.value),onChange:e.onChange,className:`${P}-item`,style:e.style,title:e.title},e.label))):r,_={toggleOption:e=>{const l=O.indexOf(e.value),a=u(O);-1===l?a.push(e.value):a.splice(l,1),"value"in y||j(a),null==x||x(a.filter((e=>E.includes(e))).sort(((e,l)=>k.findIndex((l=>l.value===e))-k.findIndex((e=>e.value===l)))))},value:O,disabled:y.disabled,name:y.name,registerValue:e=>{N((l=>[].concat(u(l),[e])))},cancelValue:e=>{N((l=>l.filter((l=>l!==e))))}},I=s(P,{[`${P}-rtl`]:"rtl"===C},f,m,$);return V(l.createElement("div",Object.assign({className:I,style:g},M,{ref:t}),l.createElement(p.Provider,{value:_},S)))},x=l.forwardRef(g),y=l.memo(x),h=v;h.Group=y,h.__ANT_CHECKBOX=!0;const C=h;export{C};
