import{R as e,r as l,W as a,aU as t,aK as n,aE as s,X as r,bd as o,be as i,b1 as u,aG as c}from"./index-96b81d1a.js";import{C as d}from"./index-75208a5e.js";import{u as p}from"./index-bf254887.js";const f=e.createContext(null);var m=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const v=(e,u)=>{var c;const{prefixCls:v,className:b,rootClassName:g,children:y,indeterminate:h=!1,style:x,onMouseEnter:C,onMouseLeave:O,skipGroup:E=!1,disabled:j}=e,N=m(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:k,direction:w,checkbox:P}=l.useContext(a),$=l.useContext(f),{isFormItemInput:V}=l.useContext(t),M=l.useContext(n),S=null!==(c=(null==$?void 0:$.disabled)||j)&&void 0!==c?c:M,_=l.useRef(N.value);l.useEffect((()=>{null==$||$.registerValue(N.value)}),[]),l.useEffect((()=>{if(!E)return N.value!==_.current&&(null==$||$.cancelValue(_.current),null==$||$.registerValue(N.value),_.current=N.value),()=>null==$?void 0:$.cancelValue(N.value)}),[N.value]);const I=k("checkbox",v),T=s(I),[G,R,L]=p(I,T),q=Object.assign({},N);$&&!E&&(q.onChange=function(){N.onChange&&N.onChange.apply(N,arguments),$.toggleOption&&$.toggleOption({label:y,value:N.value})},q.name=$.name,q.checked=$.value.includes(N.value));const A=r(`${I}-wrapper`,{[`${I}-rtl`]:"rtl"===w,[`${I}-wrapper-checked`]:q.checked,[`${I}-wrapper-disabled`]:S,[`${I}-wrapper-in-form-item`]:V},null==P?void 0:P.className,b,g,L,T,R),B=r({[`${I}-indeterminate`]:h},o,R),K=h?"mixed":void 0;return G(l.createElement(i,{component:"Checkbox",disabled:S},l.createElement("label",{className:A,style:Object.assign(Object.assign({},null==P?void 0:P.style),x),onMouseEnter:C,onMouseLeave:O},l.createElement(d,Object.assign({"aria-checked":K},q,{prefixCls:I,className:B,disabled:S,ref:u})),void 0!==y&&l.createElement("span",null,y))))},b=l.forwardRef(v);var g=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const y=l.forwardRef(((e,t)=>{const{defaultValue:n,children:o,options:i=[],prefixCls:d,className:m,rootClassName:v,style:y,onChange:h}=e,x=g(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:C,direction:O}=l.useContext(a),[E,j]=l.useState(x.value||n||[]),[N,k]=l.useState([]);l.useEffect((()=>{"value"in x&&j(x.value||[])}),[x.value]);const w=l.useMemo((()=>i.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[i]),P=C("checkbox",d),$=`${P}-group`,V=s(P),[M,S,_]=p(P,V),I=u(x,["value","disabled"]),T=i.length?w.map((e=>l.createElement(b,{prefixCls:P,key:e.value.toString(),disabled:"disabled"in e?e.disabled:x.disabled,value:e.value,checked:E.includes(e.value),onChange:e.onChange,className:`${$}-item`,style:e.style,title:e.title,id:e.id,required:e.required},e.label))):o,G={toggleOption:e=>{const l=E.indexOf(e.value),a=c(E);-1===l?a.push(e.value):a.splice(l,1),"value"in x||j(a),null==h||h(a.filter((e=>N.includes(e))).sort(((e,l)=>w.findIndex((l=>l.value===e))-w.findIndex((e=>e.value===l)))))},value:E,disabled:x.disabled,name:x.name,registerValue:e=>{k((l=>[].concat(c(l),[e])))},cancelValue:e=>{k((l=>l.filter((l=>l!==e))))}},R=r($,{[`${$}-rtl`]:"rtl"===O},m,v,_,V,S);return M(l.createElement("div",Object.assign({className:R,style:y},I,{ref:t}),l.createElement(f.Provider,{value:G},T)))})),h=b;h.Group=y,h.__ANT_CHECKBOX=!0;const x=h;export{x as C};
