import{o as D,t as v,r,da as O,j as e,d9 as S,a5 as u,cm as z,a6 as x,I as n,d8 as E,x as o}from"./index-00bc0960.js";import{D as K,K as A,T as M}from"./kanban-task-834568f9.js";import"./task-detail-6f34c363.js";import"./dayjs.min-2473d3b1.js";import"./index-e59e4fdc.js";import"./CheckOutlined-ce1b14da.js";import"./styleChecker-cd6b40ad.js";import"./index-a4e51a61.js";import"./index-e6e2d9b7.js";import"./index-2de92ad6.js";import"./index-0570ba04.js";import"./index-e28b0098.js";import"./index-77c8fb09.js";import"./addEventListener-db3041bc.js";import"./index-3b0fbccb.js";import"./useIcons-7028c4e8.js";import"./List-066cd3b0.js";function te({index:f,column:a,tasks:g,createTask:h,clearColumn:j,deleteColumn:b,renameColumn:k}){const{themeMode:y}=D(),T={height:"100%",padding:"16px",borderRadius:"16px",backgroundColor:y===v.Light?"rgb(244, 246, 248)":"rgba(145, 158, 171, 0.12)"},C=[{key:"1",label:e.jsxs("div",{className:"flex items-center text-gray",onClick:()=>{d(!0)},children:[e.jsx(n,{icon:"solar:pen-bold"}),e.jsx("span",{className:"ml-2",children:"rename"})]})},{key:"2",label:e.jsxs("div",{className:"flex items-center text-gray",onClick:()=>j(a.id),children:[e.jsx(n,{icon:"solar:eraser-bold"}),e.jsx("span",{className:"ml-2",children:"clear"})]})},{key:"3",label:e.jsxs("div",{className:"flex items-center text-warning",onClick:()=>b(a.id),children:[e.jsx(n,{icon:"solar:trash-bin-trash-bold"}),e.jsx("span",{className:"ml-2",children:"delete"})]})}],[N,c]=r.useState(!1),i=r.useRef(null);O("click",t=>{if(i.current&&!i.current.input?.contains(t.target)){const s=i.current.input?.value;s&&h(a.id,{id:o.string.uuid(),title:s,reporter:o.image.avatarGitHub(),priority:o.helpers.enumValue(M)}),c(!1)}if(l.current&&!l.current.input?.contains(t.target)){const s=l.current.input?.value;s&&k({...a,title:s}),d(!1)}});const[I,d]=r.useState(!1),l=r.useRef(null),[R,p]=r.useState(!1),P=t=>{p(!1),t.domEvent.stopPropagation()};return e.jsx(S,{draggableId:a.id,index:f,children:t=>e.jsx("div",{ref:t.innerRef,...t.draggableProps,children:e.jsxs("div",{style:T,children:[e.jsxs("header",{...t.dragHandleProps,className:"mb-4 flex select-none items-center justify-between text-base font-semibold",children:[I?e.jsx(u,{ref:l,size:"large",autoFocus:!0}):a.title,e.jsx(z,{open:R,onOpenChange:s=>p(s),menu:{items:C,onClick:P},placement:"bottomRight",trigger:["click"],children:e.jsx(x,{shape:"circle",type:"text",className:"!text-gray",children:e.jsx(n,{icon:"dashicons:ellipsis"})})})]}),e.jsx(E,{droppableId:a.id,type:K.TASK,children:s=>e.jsxs("main",{ref:s.innerRef,...s.droppableProps,className:"min-h-[10px]",children:[g.map((m,w)=>e.jsx(A,{task:m,index:w},m.id)),s.placeholder]})}),e.jsx("footer",{className:"w-[248px]",children:N?e.jsx(u,{ref:i,size:"large",placeholder:"Task Name",autoFocus:!0}):e.jsxs(x,{onClick:s=>{s.stopPropagation(),c(!0)},className:"!flex items-center justify-center !text-xs !font-medium",type:"text",block:!0,size:"large",children:[e.jsx(n,{icon:"carbon:add",size:20}),e.jsx("span",{children:"Add Task"})]})})]})})})}export{te as default};
