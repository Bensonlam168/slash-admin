import{o as D,t as v,r as n,d5 as O,j as e,d4 as S,a3 as u,cl as z,a4 as x,I as r,d3 as E,x as o}from"./index-a174239d.js";import{D as K,K as A,T as M}from"./kanban-task-e613fa6f.js";import"./task-detail-7338f7de.js";import"./dayjs.min-47422c50.js";import"./index-ae1f1039.js";import"./CheckOutlined-adf89a14.js";import"./styleChecker-d6b280b6.js";import"./index-ed5c8a88.js";import"./index-369f29c4.js";import"./index-023e1e0c.js";import"./index-c8d1fdfe.js";import"./index-029d3301.js";import"./index-8e4bbc64.js";import"./addEventListener-91e2f26e.js";import"./index-bb51517b.js";import"./useIcons-cb35d286.js";function se({index:f,column:a,tasks:g,createTask:h,clearColumn:j,deleteColumn:b,renameColumn:k}){const{themeMode:y}=D(),T={height:"100%",padding:"16px",borderRadius:"16px",backgroundColor:y===v.Light?"rgb(244, 246, 248)":"rgba(145, 158, 171, 0.12)"},C=[{key:"1",label:e.jsxs("div",{className:"flex items-center text-gray",onClick:()=>{d(!0)},children:[e.jsx(r,{icon:"solar:pen-bold"}),e.jsx("span",{className:"ml-2",children:"rename"})]})},{key:"2",label:e.jsxs("div",{className:"flex items-center text-gray",onClick:()=>j(a.id),children:[e.jsx(r,{icon:"solar:eraser-bold"}),e.jsx("span",{className:"ml-2",children:"clear"})]})},{key:"3",label:e.jsxs("div",{className:"flex items-center text-warning",onClick:()=>b(a.id),children:[e.jsx(r,{icon:"solar:trash-bin-trash-bold"}),e.jsx("span",{className:"ml-2",children:"delete"})]})}],[N,c]=n.useState(!1),i=n.useRef(null);O("click",t=>{if(i.current&&!i.current.input?.contains(t.target)){const s=i.current.input?.value;s&&h(a.id,{id:o.string.uuid(),title:s,reporter:o.image.avatarGitHub(),priority:o.helpers.enumValue(M)}),c(!1)}if(l.current&&!l.current.input?.contains(t.target)){const s=l.current.input?.value;s&&k({...a,title:s}),d(!1)}});const[I,d]=n.useState(!1),l=n.useRef(null),[R,p]=n.useState(!1),P=t=>{p(!1),t.domEvent.stopPropagation()};return e.jsx(S,{draggableId:a.id,index:f,children:t=>e.jsx("div",{ref:t.innerRef,...t.draggableProps,children:e.jsxs("div",{style:T,children:[e.jsxs("header",{...t.dragHandleProps,className:"mb-4 flex select-none items-center justify-between text-base font-semibold",children:[I?e.jsx(u,{ref:l,size:"large",autoFocus:!0}):a.title,e.jsx(z,{open:R,onOpenChange:s=>p(s),menu:{items:C,onClick:P},placement:"bottomRight",trigger:["click"],children:e.jsx(x,{shape:"circle",type:"text",className:"!text-gray",children:e.jsx(r,{icon:"dashicons:ellipsis"})})})]}),e.jsx(E,{droppableId:a.id,type:K.TASK,children:s=>e.jsxs("main",{ref:s.innerRef,...s.droppableProps,className:"min-h-[10px]",children:[g.map((m,w)=>e.jsx(A,{task:m,index:w},m.id)),s.placeholder]})}),e.jsx("footer",{className:"w-[248px]",children:N?e.jsx(u,{ref:i,size:"large",placeholder:"Task Name",autoFocus:!0}):e.jsxs(x,{onClick:s=>{s.stopPropagation(),c(!0)},className:"!flex items-center justify-center !text-xs !font-medium",type:"text",block:!0,size:"large",children:[e.jsx(r,{icon:"carbon:add",size:20}),e.jsx("span",{children:"Add Task"})]})})]})})})}export{se as default};
