import{o as e,v as s,r as t,dc as i,j as a,db as r,a7 as n,cm as l,a8 as o,I as c,da as d,y as m}from"./index-6c437c11.js";import{D as p,K as x,T as j}from"./kanban-task-c3da8c9c.js";import"./task-detail-00d754b5.js";import"./dayjs.min-8d5958d6.js";import"./index-19546a7d.js";import"./CheckOutlined-17c3740b.js";import"./styleChecker-cc003929.js";import"./index-d1ff0651.js";import"./index-9ec699bb.js";import"./index-c7eda12d.js";import"./index-c1842080.js";import"./index-2c1b8374.js";import"./index-9badb7fd.js";import"./addEventListener-ff59fc1b.js";import"./index-be2f60b3.js";import"./useIcons-88431c66.js";import"./List-fba916dc.js";function u({index:u,column:h,tasks:g,createTask:b,clearColumn:f,deleteColumn:k,renameColumn:y}){const{themeMode:v}=e(),C={height:"100%",padding:"16px",borderRadius:"16px",backgroundColor:v===s.Light?"rgb(244, 246, 248)":"rgba(145, 158, 171, 0.12)"},N=[{key:"1",label:a.jsxs("div",{className:"flex items-center text-gray",onClick:()=>{w(!0)},children:[a.jsx(c,{icon:"solar:pen-bold"}),a.jsx("span",{className:"ml-2",children:"rename"})]})},{key:"2",label:a.jsxs("div",{className:"flex items-center text-gray",onClick:()=>f(h.id),children:[a.jsx(c,{icon:"solar:eraser-bold"}),a.jsx("span",{className:"ml-2",children:"clear"})]})},{key:"3",label:a.jsxs("div",{className:"flex items-center text-warning",onClick:()=>k(h.id),children:[a.jsx(c,{icon:"solar:trash-bin-trash-bold"}),a.jsx("span",{className:"ml-2",children:"delete"})]})}],[R,P]=t.useState(!1),S=t.useRef(null);i("click",(e=>{if(S.current&&!S.current.input?.contains(e.target)){const e=S.current.input?.value;e&&b(h.id,{id:m.string.uuid(),title:e,reporter:m.image.avatarGitHub(),priority:m.helpers.enumValue(j)}),P(!1)}if(z.current&&!z.current.input?.contains(e.target)){const e=z.current.input?.value;e&&y({...h,title:e}),w(!1)}}));const[T,w]=t.useState(!1),z=t.useRef(null),[I,A]=t.useState(!1),E=e=>{A(!1),e.domEvent.stopPropagation()};return a.jsx(r,{draggableId:h.id,index:u,children:e=>a.jsx("div",{ref:e.innerRef,...e.draggableProps,children:a.jsxs("div",{style:C,children:[a.jsxs("header",{...e.dragHandleProps,className:"mb-4 flex select-none items-center justify-between text-base font-semibold",children:[T?a.jsx(n,{ref:z,size:"large",autoFocus:!0}):h.title,a.jsx(l,{open:I,onOpenChange:e=>A(e),menu:{items:N,onClick:E},placement:"bottomRight",trigger:["click"],children:a.jsx(o,{shape:"circle",type:"text",className:"!text-gray",children:a.jsx(c,{icon:"dashicons:ellipsis"})})})]}),a.jsx(d,{droppableId:h.id,type:p.TASK,children:e=>a.jsxs("main",{ref:e.innerRef,...e.droppableProps,className:"min-h-[10px]",children:[g.map(((e,s)=>a.jsx(x,{task:e,index:s},e.id))),e.placeholder]})}),a.jsx("footer",{className:"w-[248px]",children:R?a.jsx(n,{ref:S,size:"large",placeholder:"Task Name",autoFocus:!0}):a.jsxs(o,{onClick:e=>{e.stopPropagation(),P(!0)},className:"!flex items-center justify-center !text-xs !font-medium",type:"text",block:!0,size:"large",children:[a.jsx(c,{icon:"carbon:add",size:20}),a.jsx("span",{children:"Add Task"})]})})]})})})}export{u as default};
