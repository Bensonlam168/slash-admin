import{x as e,E as s,r as a,dA as t,j as i,dz as r,ag as n,cG as l,ah as o,I as c,dy as d,K as m}from"./index-7615ad60.js";import{D as x,K as p,T as j}from"./kanban-task-919b9af6.js";import"./task-detail-fadd8a1e.js";import"./dayjs.min-b6382cb7.js";import"./index-8c9e7dfd.js";import"./index-f782c6c4.js";import"./index-03aa947a.js";import"./useIcons-034909af.js";import"./index-58e9c4f0.js";import"./index-2f87b39e.js";import"./index-231f8df2.js";import"./addEventListener-b9c54783.js";import"./index-448722d9.js";import"./List-b665b756.js";function u({index:u,column:h,tasks:g,createTask:b,clearColumn:f,deleteColumn:k,renameColumn:y}){const{themeMode:N}=e(),v={height:"100%",padding:"16px",borderRadius:"16px",backgroundColor:N===s.Light?"rgb(244, 246, 248)":"rgba(145, 158, 171, 0.12)"},C=[{key:"1",label:i.jsxs("div",{className:"flex items-center text-gray",onClick:()=>{S(!0)},children:[i.jsx(c,{icon:"solar:pen-bold"}),i.jsx("span",{className:"ml-2",children:"rename"})]})},{key:"2",label:i.jsxs("div",{className:"flex items-center text-gray",onClick:()=>f(h.id),children:[i.jsx(c,{icon:"solar:eraser-bold"}),i.jsx("span",{className:"ml-2",children:"clear"})]})},{key:"3",label:i.jsxs("div",{className:"flex items-center text-warning",onClick:()=>k(h.id),children:[i.jsx(c,{icon:"solar:trash-bin-trash-bold"}),i.jsx("span",{className:"ml-2",children:"delete"})]})}],[z,R]=a.useState(!1),I=a.useRef(null);t("click",(e=>{if(I.current&&!I.current.input?.contains(e.target)){const e=I.current.input?.value;e&&b(h.id,{id:m.string.uuid(),title:e,reporter:m.image.avatarGitHub(),priority:m.helpers.enumValue(j)}),R(!1)}if(T.current&&!T.current.input?.contains(e.target)){const e=T.current.input?.value;e&&y({...h,title:e}),S(!1)}}));const[P,S]=a.useState(!1),T=a.useRef(null),[K,L]=a.useState(!1),w=e=>{L(!1),e.domEvent.stopPropagation()};return i.jsx(r,{draggableId:h.id,index:u,children:e=>i.jsx("div",{ref:e.innerRef,...e.draggableProps,children:i.jsxs("div",{style:v,children:[i.jsxs("header",{...e.dragHandleProps,className:"mb-4 flex select-none items-center justify-between text-base font-semibold",children:[P?i.jsx(n,{ref:T,size:"large",autoFocus:!0}):h.title,i.jsx(l,{open:K,onOpenChange:e=>L(e),menu:{items:C,onClick:w},placement:"bottomRight",trigger:["click"],children:i.jsx(o,{shape:"circle",type:"text",className:"!text-gray",children:i.jsx(c,{icon:"dashicons:ellipsis"})})})]}),i.jsx(d,{droppableId:h.id,type:x.TASK,children:e=>i.jsxs("main",{ref:e.innerRef,...e.droppableProps,className:"min-h-[10px]",children:[g.map(((e,s)=>i.jsx(p,{task:e,index:s},e.id))),e.placeholder]})}),i.jsx("footer",{className:"w-[248px]",children:z?i.jsx(n,{ref:I,size:"large",placeholder:"Task Name",autoFocus:!0}):i.jsxs(o,{onClick:e=>{e.stopPropagation(),R(!0)},className:"!flex items-center justify-center !text-xs !font-medium",type:"text",block:!0,size:"large",children:[i.jsx(c,{icon:"carbon:add",size:20}),i.jsx("span",{children:"Add Task"})]})})]})})})}export{u as default};
