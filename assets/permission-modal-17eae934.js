import{r as e,bO as t,aK as n,W as r,bS as a,aV as l,X as o,bc as i,ay as s,b8 as c,by as u,bb as d,bC as p,ba as f,bi as h,y as m,b9 as v,bu as b,Q as g,aj as C,V as x,bP as y,aw as w,bQ as I,aL as S,aC as E,aB as k,bR as N,bT as O,bU as j,df as L,di as T,j as M,c_ as D,dh as P,ag as V,dg as A}from"./index-32c3f4bc.js";import{F as H}from"./index-2a58e7fe.js";import{R as K}from"./index-872f1eaf.js";import{S as R,u as W,a as $,B as _,b as F,c as U,D as z,m as B}from"./index-9c268be7.js";import{a as q,c as G,T as X,h as Y,i as Q,S as J}from"./iconUtil-32b2ecd5.js";import{u as Z}from"./useIcons-7127d0b2.js";import{g as ee}from"./index-f0855aab.js";import{I as te}from"./index-94e0ed41.js";import"./row-dde3980e.js";import"./index-f8abfcfd.js";import"./List-9210df1f.js";const{Option:ne}=R;function re(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const ae=(t,i)=>{var s;const{prefixCls:c,className:u,popupClassName:d,dropdownClassName:p,children:f,dataSource:h}=t,m=n(f);let v;1===m.length&&e.isValidElement(m[0])&&!re(m[0])&&([v]=m);const b=v?()=>v:void 0;let g;g=m.length&&re(m[0])?f:h?h.map((t=>{if(e.isValidElement(t))return t;switch(typeof t){case"string":return e.createElement(ne,{key:t,value:t},t);case"object":{const{value:n}=t;return e.createElement(ne,{key:n,value:n},t.text)}default:return}})):[];const{getPrefixCls:C}=e.useContext(r),x=C("select",c),[y]=a("SelectLike",null===(s=t.dropdownStyle)||void 0===s?void 0:s.zIndex);return e.createElement(R,Object.assign({ref:i,suffixIcon:null},l(t,["dataSource","dropdownClassName"]),{prefixCls:x,popupClassName:d||p,dropdownStyle:Object.assign(Object.assign({},t.dropdownStyle),{zIndex:y}),className:o(`${x}-auto-complete`,u),mode:R.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:b}),g)},le=e.forwardRef(ae),oe=t(le);le.Option=ne,le._InternalPanelDoNotUseOrYouWillBeFired=oe;const ie=le;function se(e){return!e||e.disabled||e.disableCheckbox||!1===e.checkable}function ce(e){return null==e}var ue=function(){return null},de=["children","value"];function pe(t){return n(t).map((function(t){if(!e.isValidElement(t)||!t.type)return null;var n=t,r=n.key,a=n.props,l=a.children,o=a.value,s=c(a,de),u=i({key:r,value:o},s),d=pe(l);return d.length&&(u.children=d),u})).filter((function(e){return e}))}function fe(e){if(!e)return e;var t=i({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return u(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function he(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){return n.current.apply(n,arguments)}),[]);return r}function me(t,n,r){return e.useMemo((function(){return t?r?function(e,t){var n=t.id,r=t.pId,a=t.rootPId,l={},o=[];return e.map((function(e){var t=i({},e),r=t[n];return l[r]=t,t.key=t.key||r,t})).forEach((function(e){var t=e[r],n=l[t];n&&(n.children=n.children||[],n.children.push(e)),(t===a||!n&&null===a)&&o.push(e)})),o}(t,i({id:"id",pId:"pId",rootPId:null},!0!==r?r:{})):t:pe(n)}),[n,r,t])}var ve=e.createContext(null),be=e.createContext(null),ge={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ce=function(t,n){var r=W(),a=r.prefixCls,l=r.multiple,o=r.searchValue,i=r.toggleOpen,c=r.open,u=r.notFoundContent,d=e.useContext(be),v=d.virtual,b=d.listHeight,g=d.listItemHeight,C=d.listItemScrollOffset,x=d.treeData,y=d.fieldNames,w=d.onSelect,I=d.dropdownMatchSelectWidth,S=d.treeExpandAction,E=d.treeTitleRender,k=e.useContext(ve),N=k.checkable,O=k.checkedKeys,j=k.halfCheckedKeys,L=k.treeExpandedKeys,T=k.treeDefaultExpandAll,M=k.treeDefaultExpandedKeys,D=k.onTreeExpand,P=k.treeIcon,V=k.showTreeIcon,A=k.switcherIcon,H=k.treeLine,K=k.treeNodeFilterProp,R=k.loadData,$=k.treeLoadedKeys,_=k.treeMotion,F=k.onTreeLoad,U=k.keyEntities,z=e.useRef(),B=p((function(){return x}),[c,x],(function(e,t){return t[0]&&e[1]!==t[1]})),q=e.useState(null),G=f(q,2),Y=G[0],Q=G[1],J=U[Y],Z=e.useMemo((function(){return N?{checked:O,halfChecked:j}:null}),[N,O,j]);e.useEffect((function(){var e;c&&!l&&O.length&&(null===(e=z.current)||void 0===e||e.scrollTo({key:O[0]}),Q(O[0]))}),[c]);var ee=String(o).toLowerCase(),te=e.useState(M),ne=f(te,2),re=ne[0],ae=ne[1],le=e.useState(null),oe=f(le,2),ie=oe[0],ce=oe[1],ue=e.useMemo((function(){return L?s(L):o?ie:re}),[re,ie,L,o]);e.useEffect((function(){o&&ce(function(e,t){var n=[];return function e(r){r.forEach((function(r){var a=r[t.children];a&&(n.push(r[t.value]),e(a))}))}(e),n}(x,y))}),[o]);var de=function(e){e.preventDefault()},pe=function(e,t){var n=t.node;N&&se(n)||(w(n.key,{selected:!O.includes(n.key)}),l||i(!1))};if(e.useImperativeHandle(n,(function(){var e;return{scrollTo:null===(e=z.current)||void 0===e?void 0:e.scrollTo,onKeyDown:function(e){var t;switch(e.which){case h.UP:case h.DOWN:case h.LEFT:case h.RIGHT:null===(t=z.current)||void 0===t||t.onKeyDown(e);break;case h.ENTER:if(J){var n=(null==J?void 0:J.node)||{},r=n.selectable,a=n.value;!1!==r&&pe(0,{node:{key:Y},selected:!O.includes(a)})}break;case h.ESC:i(!1)}},onKeyUp:function(){}}})),0===B.length)return e.createElement("div",{role:"listbox",className:"".concat(a,"-empty"),onMouseDown:de},u);var fe={fieldNames:y};return $&&(fe.loadedKeys=$),ue&&(fe.expandedKeys=ue),e.createElement("div",{onMouseDown:de},J&&c&&e.createElement("span",{style:ge,"aria-live":"assertive"},J.node.value),e.createElement(X,m({ref:z,focusable:!1,prefixCls:"".concat(a,"-tree"),treeData:B,height:b,itemHeight:g,itemScrollOffset:C,virtual:!1!==v&&!1!==I,multiple:l,icon:P,showIcon:V,switcherIcon:A,showLine:H,loadData:o?null:R,motion:_,activeKey:Y,checkable:N,checkStrictly:!0,checkedKeys:Z,selectedKeys:N?[]:O,defaultExpandAll:T,titleRender:E},fe,{onActiveChange:Q,onSelect:pe,onCheck:pe,onExpand:function(e){ae(e),ce(e),D&&D(e)},onLoad:F,filterTreeNode:function(e){return!!ee&&String(e[K]).toLowerCase().includes(ee)},expandAction:S})))},xe=e.forwardRef(Ce),ye="SHOW_ALL",we="SHOW_PARENT",Ie="SHOW_CHILD";function Se(e,t,n,r){var a=new Set(e);return t===Ie?e.filter((function(e){var t=n[e];return!(t&&t.children&&t.children.some((function(e){var t=e.node;return a.has(t[r.value])}))&&t.children.every((function(e){var t=e.node;return se(t)||a.has(t[r.value])})))})):t===we?e.filter((function(e){var t=n[e],r=t?t.parent:null;return!(r&&!se(r.node)&&a.has(r.key))})):e}var Ee=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender"];var ke=e.forwardRef((function(t,n){var r,a,l=t.id,o=t.prefixCls,p=void 0===o?"rc-tree-select":o,h=t.value,g=t.defaultValue,C=t.onChange,x=t.onSelect,y=t.onDeselect,w=t.searchValue,I=t.inputValue,S=t.onSearch,E=t.autoClearSearchValue,k=void 0===E||E,N=t.filterTreeNode,O=t.treeNodeFilterProp,j=void 0===O?"value":O,L=t.showCheckedStrategy,T=t.treeNodeLabelProp,M=t.multiple,D=t.treeCheckable,P=t.treeCheckStrictly,V=t.labelInValue,A=t.fieldNames,H=t.treeDataSimpleMode,K=t.treeData,R=t.children,W=t.loadData,F=t.treeLoadedKeys,U=t.onTreeLoad,z=t.treeDefaultExpandAll,B=t.treeExpandedKeys,X=t.treeDefaultExpandedKeys,Y=t.onTreeExpand,Q=t.treeExpandAction,J=t.virtual,Z=t.listHeight,ee=void 0===Z?200:Z,te=t.listItemHeight,ne=void 0===te?20:te,re=t.listItemScrollOffset,ae=void 0===re?0:re,le=t.onDropdownVisibleChange,oe=t.dropdownMatchSelectWidth,ie=void 0===oe||oe,se=t.treeLine,de=t.treeIcon,pe=t.showTreeIcon,ge=t.switcherIcon,Ce=t.treeMotion,we=t.treeTitleRender,ke=c(t,Ee),Ne=$(l),Oe=D&&!P,je=D||P,Le=P||V,Te=je||M,Me=v(g,{value:h}),De=f(Me,2),Pe=De[0],Ve=De[1],Ae=e.useMemo((function(){return D?L||Ie:ye}),[L,D]),He=e.useMemo((function(){return function(e){var t=e||{},n=t.label,r=t.value||"value";return{_title:n?[n]:["title","label"],value:r,key:r,children:t.children||"children"}}(A)}),[JSON.stringify(A)]),Ke=v("",{value:void 0!==w?w:I,postState:function(e){return e||""}}),Re=f(Ke,2),We=Re[0],$e=Re[1],_e=me(K,R,H),Fe=function(t,n){return e.useMemo((function(){return G(t,{fieldNames:n,initWrapper:function(e){return i(i({},e),{},{valueEntities:new Map})},processEntity:function(e,t){var r=e.node[n.value];t.valueEntities.set(r,e)}})}),[t,n])}(_e,He),Ue=Fe.keyEntities,ze=Fe.valueEntities,Be=e.useCallback((function(e){var t=[],n=[];return e.forEach((function(e){ze.has(e)?n.push(e):t.push(e)})),{missingRawValues:t,existRawValues:n}}),[ze]),qe=function(t,n,r){var a=r.treeNodeFilterProp,l=r.filterTreeNode,o=r.fieldNames.children;return e.useMemo((function(){if(!n||!1===l)return t;var e;if("function"==typeof l)e=l;else{var r=n.toUpperCase();e=function(e,t){var n=t[a];return String(n).toUpperCase().includes(r)}}return function t(r){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.reduce((function(r,l){var s=l[o],c=a||e(n,fe(l)),u=t(s||[],c);return(c||u.length)&&r.push(i(i({},l),{},d({isLeaf:void 0},o,u))),r}),[])}(t)}),[t,n,o,a,l])}(_e,We,{fieldNames:He,treeNodeFilterProp:j,filterTreeNode:N}),Ge=e.useCallback((function(e){if(e){if(T)return e[T];for(var t=He._title,n=0;n<t.length;n+=1){var r=e[t[n]];if(void 0!==r)return r}}}),[He,T]),Xe=e.useCallback((function(e){var t=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}(e);return t.map((function(e){return function(e){return!e||"object"!==b(e)}(e)?{value:e}:e}))}),[]),Ye=e.useCallback((function(e){return Xe(e).map((function(e){var t,n,r=e.label,a=e.value,l=e.halfChecked,o=ze.get(a);if(o)r=null!==(n=r)&&void 0!==n?n:Ge(o.node),t=o.node.disabled;else if(void 0===r){r=Xe(Pe).find((function(e){return e.value===a})).label}return{label:r,value:a,halfChecked:l,disabled:t}}))}),[ze,Ge,Xe,Pe]),Qe=e.useMemo((function(){return Xe(Pe)}),[Xe,Pe]),Je=e.useMemo((function(){var e=[],t=[];return Qe.forEach((function(n){n.halfChecked?t.push(n):e.push(n)})),[e,t]}),[Qe]),Ze=f(Je,2),et=Ze[0],tt=Ze[1],nt=e.useMemo((function(){return et.map((function(e){return e.value}))}),[et]),rt=function(t,n,r,a){return e.useMemo((function(){var e=t.map((function(e){return e.value})),l=n.map((function(e){return e.value})),o=e.filter((function(e){return!a[e]}));if(r){var i=q(e,!0,a);e=i.checkedKeys,l=i.halfCheckedKeys}return[Array.from(new Set([].concat(s(o),s(e)))),l]}),[t,n,r,a])}(et,tt,Oe,Ue),at=f(rt,2),lt=at[0],ot=at[1],it=e.useMemo((function(){var e=Se(lt,Ae,Ue,He).map((function(e){var t,n;return null!==(t=null===(n=Ue[e])||void 0===n||null===(n=n.node)||void 0===n?void 0:n[He.value])&&void 0!==t?t:e})).map((function(e){var t,n=et.find((function(t){return t.value===e}));return V&&void 0!==n.label?t=n.label:!V&&we&&(t=we(n)),{value:e,label:t}})),t=Ye(e),n=t[0];return!Te&&n&&ce(n.value)&&ce(n.label)?[]:t.map((function(e){var t;return i(i({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[He,Te,lt,et,Ye,Ae,Ue]),st=(r=it,a=e.useRef({valueLabels:new Map}),e.useMemo((function(){var e=a.current.valueLabels,t=new Map,n=r.map((function(n){var r,a=n.value,l=null!==(r=n.label)&&void 0!==r?r:e.get(a);return t.set(a,l),i(i({},n),{},{label:l})}));return a.current.valueLabels=t,[n]}),[r])),ct=f(st,1)[0],ut=he((function(t,n,r){var a=Ye(t);if(Ve(a),k&&$e(""),C){var l=t;if(Oe){var o=Se(t,Ae,Ue,He);l=o.map((function(e){var t=ze.get(e);return t?t.node[He.value]:e}))}var i=n||{triggerValue:void 0,selected:void 0},c=i.triggerValue,d=i.selected,p=l;if(P){var f=tt.filter((function(e){return!l.includes(e.value)}));p=[].concat(s(p),s(f))}var h=Ye(p),m={preValue:et,triggerValue:c},v=!0;(P||"selection"===r&&!d)&&(v=!1),function(t,n,r,a,l,o){var i=null,s=null;function c(){s||(s=[],function t(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.map((function(a,u){var d="".concat(l,"-").concat(u),p=a[o.value],f=r.includes(p),h=t(a[o.children]||[],d,f),m=e.createElement(ue,a,h.map((function(e){return e.node})));if(n===p&&(i=m),f){var v={pos:d,node:m,children:h};return c||s.push(v),v}return null})).filter((function(e){return e}))}(a),s.sort((function(e,t){var n=e.node.props.value,a=t.node.props.value;return r.indexOf(n)-r.indexOf(a)})))}Object.defineProperty(t,"triggerNode",{get:function(){return u(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),c(),i}}),Object.defineProperty(t,"allCheckedNodes",{get:function(){return u(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),c(),l?s:s.map((function(e){return e.node}))}})}(m,c,t,_e,v,He),je?m.checked=d:m.selected=d;var b=Le?h:h.map((function(e){return e.value}));C(Te?b:b[0],Le?null:h.map((function(e){return e.label})),m)}})),dt=e.useCallback((function(e,t){var n,r=t.selected,a=t.source,l=Ue[e],o=null==l?void 0:l.node,i=null!==(n=null==o?void 0:o[He.value])&&void 0!==n?n:e;if(Te){var c=r?[].concat(s(nt),[i]):lt.filter((function(e){return e!==i}));if(Oe){var u,d=Be(c),p=d.missingRawValues,f=d.existRawValues.map((function(e){return ze.get(e).key}));if(r)u=q(f,!0,Ue).checkedKeys;else u=q(f,{checked:!1,halfCheckedKeys:ot},Ue).checkedKeys;c=[].concat(s(p),s(u.map((function(e){return Ue[e].node[He.value]}))))}ut(c,{selected:r,triggerValue:i},a||"option")}else ut([i],{selected:!0,triggerValue:i},"option");r||!Te?null==x||x(i,fe(o)):null==y||y(i,fe(o))}),[Be,ze,Ue,He,Te,nt,ut,Oe,x,y,lt,ot]),pt=e.useCallback((function(e){if(le){var t={};Object.defineProperty(t,"documentClickClose",{get:function(){return u(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),le(e,t)}}),[le]),ft=he((function(e,t){var n=e.map((function(e){return e.value}));"clear"!==t.type?t.values.length&&dt(t.values[0].value,{selected:!1,source:"selection"}):ut(n,{},"selection")})),ht=e.useMemo((function(){return{virtual:J,dropdownMatchSelectWidth:ie,listHeight:ee,listItemHeight:ne,listItemScrollOffset:ae,treeData:qe,fieldNames:He,onSelect:dt,treeExpandAction:Q,treeTitleRender:we}}),[J,ie,ee,ne,ae,qe,He,dt,Q,we]),mt=e.useMemo((function(){return{checkable:je,loadData:W,treeLoadedKeys:F,onTreeLoad:U,checkedKeys:lt,halfCheckedKeys:ot,treeDefaultExpandAll:z,treeExpandedKeys:B,treeDefaultExpandedKeys:X,onTreeExpand:Y,treeIcon:de,treeMotion:Ce,showTreeIcon:pe,switcherIcon:ge,treeLine:se,treeNodeFilterProp:j,keyEntities:Ue}}),[je,W,F,U,lt,ot,z,B,X,Y,de,Ce,pe,ge,se,j,Ue]);return e.createElement(be.Provider,{value:ht},e.createElement(ve.Provider,{value:mt},e.createElement(_,m({ref:n},ke,{id:Ne,prefixCls:p,mode:Te?"multiple":void 0,displayValues:ct,onDisplayValuesChange:ft,searchValue:We,onSearch:function(e){$e(e),null==S||S(e)},OptionList:xe,emptyOptions:!_e.length,onDropdownVisibleChange:pt,dropdownMatchSelectWidth:ie}))))}));ke.TreeNode=ue,ke.SHOW_ALL=ye,ke.SHOW_PARENT=we,ke.SHOW_CHILD=Ie;const Ne=e=>{const{componentCls:t,treePrefixCls:n,colorBgElevated:r}=e,a=`.${n}`;return[{[`${t}-dropdown`]:[{padding:`${x(e.paddingXS)} ${x(e.calc(e.paddingXS).div(2).equal())}`},Y(n,C(e,{colorBgContainer:r})),{[a]:{borderRadius:0,[`${a}-list-holder-inner`]:{alignItems:"stretch",[`${a}-treenode`]:{[`${a}-node-content-wrapper`]:{flex:"auto"}}}}},ee(`${n}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${a}-switcher${a}-switcher_close`]:{[`${a}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};var Oe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const je=(t,n)=>{var i,{prefixCls:s,size:c,disabled:u,bordered:d=!0,className:p,rootClassName:f,treeCheckable:h,multiple:m,listHeight:v=256,listItemHeight:b=26,placement:x,notFoundContent:L,switcherIcon:T,treeLine:M,getPopupContainer:D,popupClassName:P,dropdownClassName:V,treeIcon:A=!1,transitionName:H,choiceTransitionName:K="",status:R,treeExpandAction:W,builtinPlacements:$,dropdownMatchSelectWidth:_,popupMatchSelectWidth:q,allowClear:G,variant:X,dropdownStyle:Y,tagRender:ee}=t,te=Oe(t,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender"]);const{getPopupContainer:ne,getPrefixCls:re,renderEmpty:ae,direction:le,virtual:oe,popupMatchSelectWidth:ie,popupOverflow:se}=e.useContext(r),ce=re(),ue=re("select",s),de=re("select-tree",s),pe=re("tree-select",s),{compactSize:fe,compactItemClassnames:he}=y(ue,le),me=w(ue),ve=w(pe),[be,ge,Ce]=F(ue,me),[xe]=function(e,t,n){return g("TreeSelect",(e=>{const n=C(e,{treePrefixCls:t});return[Ne(n)]}),Q)(e,n)}(pe,de,ve),[ye,we]=I(X,d),Ie=o(P||V,`${pe}-dropdown`,{[`${pe}-dropdown-rtl`]:"rtl"===le},f,Ce,me,ve,ge),Se=!(!h&&!m),Ee=U(te.suffixIcon,te.showArrow),je=null!==(i=null!=q?q:_)&&void 0!==i?i:ie,{status:Le,hasFeedback:Te,isFormItemInput:Me,feedbackIcon:De}=e.useContext(S),Pe=j(Le,R),{suffixIcon:Ve,removeIcon:Ae,clearIcon:He}=Z(Object.assign(Object.assign({},te),{multiple:Se,showSuffixIcon:Ee,hasFeedback:Te,feedbackIcon:De,prefixCls:ue,componentName:"TreeSelect"})),Ke=!0===G?{clearIcon:He}:G;let Re;Re=void 0!==L?L:(null==ae?void 0:ae("Select"))||e.createElement(z,{componentName:"Select"});const We=l(te,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),$e=e.useMemo((()=>void 0!==x?x:"rtl"===le?"bottomRight":"bottomLeft"),[x,le]),_e=E((e=>{var t;return null!==(t=null!=c?c:fe)&&void 0!==t?t:e})),Fe=e.useContext(k),Ue=null!=u?u:Fe,ze=o(!s&&pe,{[`${ue}-lg`]:"large"===_e,[`${ue}-sm`]:"small"===_e,[`${ue}-rtl`]:"rtl"===le,[`${ue}-${ye}`]:we,[`${ue}-in-form-item`]:Me},N(ue,Pe,Te),he,p,f,Ce,me,ve,ge),[Be]=a("SelectLike",null==Y?void 0:Y.zIndex);return be(xe(e.createElement(ke,Object.assign({virtual:oe,disabled:Ue},We,{dropdownMatchSelectWidth:je,builtinPlacements:B($,se),ref:n,prefixCls:ue,className:ze,listHeight:v,listItemHeight:b,treeCheckable:h?e.createElement("span",{className:`${ue}-tree-checkbox-inner`}):h,treeLine:!!M,suffixIcon:Ve,multiple:Se,placement:$e,removeIcon:Ae,allowClear:Ke,switcherIcon:t=>e.createElement(J,{prefixCls:de,switcherIcon:T,treeNodeProps:t,showLine:M}),showTreeIcon:A,notFoundContent:Re,getPopupContainer:D||ne,treeMotion:null,dropdownClassName:Ie,dropdownStyle:Object.assign(Object.assign({},Y),{zIndex:Be}),choiceTransitionName:O(ce,"",K),transitionName:O(ce,"slide-up",H),treeExpandAction:W,tagRender:Se?ee:void 0}))))},Le=e.forwardRef(je),Te=t(Le);Le.TreeNode=ue,Le.SHOW_ALL=ye,Le.SHOW_PARENT=we,Le.SHOW_CHILD=Ie,Le._InternalPanelDoNotUseOrYouWillBeFired=Te;const Me=Le;function De({title:t,show:n,formValue:r,onOk:a,onCancel:l}){const[o]=H.useForm(),i=L(),[s,c]=e.useState(T),u=e.useCallback(((e,t=i)=>{let n="";if(!t||!e)return n;for(let r=0;r<t.length&&(t[r].id===e?n=t[r].name:t[r].children&&(n=u(e,t[r].children)),!n);r+=1);return n}),[i]),d=e=>{c(T.filter((t=>t.value.includes(e.toLowerCase()))))};return e.useEffect((()=>{if(o.setFieldsValue({...r}),r.parentId){const e=u(r.parentId);d(e)}}),[r,o,u]),M.jsx(D,{title:t,open:n,onOk:a,onCancel:l,children:M.jsxs(H,{initialValues:r,form:o,labelCol:{span:4},wrapperCol:{span:18},layout:"horizontal",children:[M.jsx(H.Item,{label:"Type",name:"type",required:!0,children:M.jsxs(K.Group,{optionType:"button",buttonStyle:"solid",children:[M.jsx(K,{value:P.CATALOGUE,children:"CATALOGUE"}),M.jsx(K,{value:P.MENU,children:"MENU"})]})}),M.jsx(H.Item,{label:"Name",name:"name",required:!0,children:M.jsx(V,{})}),M.jsx(H.Item,{label:"Label",name:"label",required:!0,tooltip:"internationalization config",children:M.jsx(V,{})}),M.jsx(H.Item,{label:"Parent",name:"parentId",required:!0,children:M.jsx(Me,{fieldNames:{label:"name",value:"id",children:"children"},allowClear:!0,treeData:i,onChange:(e,t)=>{d(t[0])}})}),M.jsx(H.Item,{label:"Route",name:"route",required:!0,children:M.jsx(V,{})}),M.jsx(H.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.type!==t.type,children:({getFieldValue:e})=>e("type")===P.MENU?M.jsx(H.Item,{label:"Component",name:"component",required:e("type")===P.MENU,children:M.jsx(ie,{options:s,filterOption:(e,t)=>(t?.label||"").toLowerCase().includes(e.toLowerCase())})}):null}),M.jsx(H.Item,{label:"Icon",name:"icon",tooltip:"local icon should start with ic",children:M.jsx(V,{})}),M.jsx(H.Item,{label:"Hide",name:"hide",tooltip:"hide in menu",children:M.jsxs(K.Group,{optionType:"button",buttonStyle:"solid",children:[M.jsx(K,{value:!1,children:"Show"}),M.jsx(K,{value:!0,children:"Hide"})]})}),M.jsx(H.Item,{label:"Order",name:"order",children:M.jsx(te,{style:{width:"100%"}})}),M.jsx(H.Item,{label:"Status",name:"status",required:!0,children:M.jsxs(K.Group,{optionType:"button",buttonStyle:"solid",children:[M.jsx(K,{value:A.ENABLE,children:" Enable "}),M.jsx(K,{value:A.DISABLE,children:" Disable "})]})})]})})}export{De as default};
