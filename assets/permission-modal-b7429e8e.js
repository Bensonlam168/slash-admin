import{r as e,aF as t,aX as n,U as r,aQ as a,V as o,bO as l,b8 as i,au as u,b4 as c,bs as s,b7 as d,bx as p,b6 as f,bq as h,x as m,b5 as v,bn as b,O as x,ah as C,bL as g,aG as y,ay as w,ax as I,bM as E,bN as S,bP as N,d1 as k,d4 as O,j,cN as L,d3 as M,ae as T,d2 as D}from"./index-809621e7.js";import{F as P}from"./index-08d64f94.js";import{R as V}from"./index-f5fc30aa.js";import{S as A,u as H,a as K,B as W,b as _,c as F,d as R,D as $,e as U}from"./index-449044ae.js";import{a as B,c as q,T as G,i as z,g as X,S as Y}from"./iconUtil-e2a3706d.js";import{g as J}from"./index-cfab4143.js";import{I as Q}from"./index-6288cfea.js";import"./row-b6fdf135.js";import"./index-9c71cb97.js";import"./List-2b33f0b2.js";const{Option:Z}=A;function ee(e){return e&&e.type&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const te=(l,i)=>{const{prefixCls:u,className:c,popupClassName:s,dropdownClassName:d,children:p,dataSource:f}=l,h=t(p);let m;1===h.length&&n(h[0])&&!ee(h[0])&&([m]=h);const v=m?()=>m:void 0;let b;b=h.length&&ee(h[0])?p:f?f.map((t=>{if(n(t))return t;switch(typeof t){case"string":return e.createElement(Z,{key:t,value:t},t);case"object":{const{value:n}=t;return e.createElement(Z,{key:n,value:n},t.text)}default:return}})):[];const{getPrefixCls:x}=e.useContext(r),C=x("select",u);return e.createElement(A,Object.assign({ref:i,suffixIcon:null},a(l,["dataSource","dropdownClassName"]),{prefixCls:C,popupClassName:s||d,className:o(`${C}-auto-complete`,c),mode:A.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:v}),b)},ne=e.forwardRef(te),re=l(ne);ne.Option=Z,ne._InternalPanelDoNotUseOrYouWillBeFired=re;const ae=ne;function oe(e){return!e||e.disabled||e.disableCheckbox||!1===e.checkable}function le(e){return null==e}var ie=function(){return null},ue=["children","value"];function ce(n){return t(n).map((function(t){if(!e.isValidElement(t)||!t.type)return null;var n=t,r=n.key,a=n.props,o=a.children,l=a.value,u=c(a,ue),s=i({key:r,value:l},u),d=ce(o);return d.length&&(s.children=d),s})).filter((function(e){return e}))}function se(e){if(!e)return e;var t=i({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return s(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function de(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){return n.current.apply(n,arguments)}),[]);return r}function pe(t,n,r){return e.useMemo((function(){return t?r?function(e,t){var n=t.id,r=t.pId,a=t.rootPId,o={},l=[];return e.map((function(e){var t=i({},e),r=t[n];return o[r]=t,t.key=t.key||r,t})).forEach((function(e){var t=e[r],n=o[t];n&&(n.children=n.children||[],n.children.push(e)),(t===a||!n&&null===a)&&l.push(e)})),l}(t,i({id:"id",pId:"pId",rootPId:null},!0!==r?r:{})):t:ce(n)}),[n,r,t])}var fe=e.createContext(null),he=e.createContext(null),me={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ve=function(t,n){var r=H(),a=r.prefixCls,o=r.multiple,l=r.searchValue,i=r.toggleOpen,c=r.open,s=r.notFoundContent,d=e.useContext(he),v=d.virtual,b=d.listHeight,x=d.listItemHeight,C=d.treeData,g=d.fieldNames,y=d.onSelect,w=d.dropdownMatchSelectWidth,I=d.treeExpandAction,E=e.useContext(fe),S=E.checkable,N=E.checkedKeys,k=E.halfCheckedKeys,O=E.treeExpandedKeys,j=E.treeDefaultExpandAll,L=E.treeDefaultExpandedKeys,M=E.onTreeExpand,T=E.treeIcon,D=E.showTreeIcon,P=E.switcherIcon,V=E.treeLine,A=E.treeNodeFilterProp,K=E.loadData,W=E.treeLoadedKeys,_=E.treeMotion,F=E.onTreeLoad,R=E.keyEntities,$=e.useRef(),U=p((function(){return C}),[c,C],(function(e,t){return t[0]&&e[1]!==t[1]})),B=e.useState(null),q=f(B,2),z=q[0],X=q[1],Y=R[z],J=e.useMemo((function(){return S?{checked:N,halfChecked:k}:null}),[S,N,k]);e.useEffect((function(){var e;c&&!o&&N.length&&(null===(e=$.current)||void 0===e||e.scrollTo({key:N[0]}),X(N[0]))}),[c]);var Q=String(l).toLowerCase(),Z=e.useState(L),ee=f(Z,2),te=ee[0],ne=ee[1],re=e.useState(null),ae=f(re,2),le=ae[0],ie=ae[1],ue=e.useMemo((function(){return O?u(O):l?le:te}),[te,le,O,l]);e.useEffect((function(){l&&ie(function(e,t){var n=[];return function e(r){r.forEach((function(r){var a=r[t.children];a&&(n.push(r[t.value]),e(a))}))}(e),n}(C,g))}),[l]);var ce=function(e){e.preventDefault()},se=function(e,t){var n=t.node;S&&oe(n)||(y(n.key,{selected:!N.includes(n.key)}),o||i(!1))};if(e.useImperativeHandle(n,(function(){var e;return{scrollTo:null===(e=$.current)||void 0===e?void 0:e.scrollTo,onKeyDown:function(e){var t;switch(e.which){case h.UP:case h.DOWN:case h.LEFT:case h.RIGHT:null===(t=$.current)||void 0===t||t.onKeyDown(e);break;case h.ENTER:if(Y){var n=(null==Y?void 0:Y.node)||{},r=n.selectable,a=n.value;!1!==r&&se(0,{node:{key:z},selected:!N.includes(a)})}break;case h.ESC:i(!1)}},onKeyUp:function(){}}})),0===U.length)return e.createElement("div",{role:"listbox",className:"".concat(a,"-empty"),onMouseDown:ce},s);var de={fieldNames:g};return W&&(de.loadedKeys=W),ue&&(de.expandedKeys=ue),e.createElement("div",{onMouseDown:ce},Y&&c&&e.createElement("span",{style:me,"aria-live":"assertive"},Y.node.value),e.createElement(G,m({ref:$,focusable:!1,prefixCls:"".concat(a,"-tree"),treeData:U,height:b,itemHeight:x,virtual:!1!==v&&!1!==w,multiple:o,icon:T,showIcon:D,switcherIcon:P,showLine:V,loadData:l?null:K,motion:_,activeKey:z,checkable:S,checkStrictly:!0,checkedKeys:J,selectedKeys:S?[]:N,defaultExpandAll:j},de,{onActiveChange:X,onSelect:se,onCheck:se,onExpand:function(e){ne(e),ie(e),M&&M(e)},onLoad:F,filterTreeNode:function(e){return!!Q&&String(e[A]).toLowerCase().includes(Q)},expandAction:I})))},be=e.forwardRef(ve);be.displayName="OptionList";var xe="SHOW_ALL",Ce="SHOW_PARENT",ge="SHOW_CHILD";function ye(e,t,n,r){var a=new Set(e);return t===ge?e.filter((function(e){var t=n[e];return!(t&&t.children&&t.children.some((function(e){var t=e.node;return a.has(t[r.value])}))&&t.children.every((function(e){var t=e.node;return oe(t)||a.has(t[r.value])})))})):t===Ce?e.filter((function(e){var t=n[e],r=t?t.parent:null;return!(r&&!oe(r.node)&&a.has(r.key))})):e}var we=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"];var Ie=e.forwardRef((function(t,n){var r,a,o=t.id,l=t.prefixCls,p=void 0===l?"rc-tree-select":l,h=t.value,x=t.defaultValue,C=t.onChange,g=t.onSelect,y=t.onDeselect,w=t.searchValue,I=t.inputValue,E=t.onSearch,S=t.autoClearSearchValue,N=void 0===S||S,k=t.filterTreeNode,O=t.treeNodeFilterProp,j=void 0===O?"value":O,L=t.showCheckedStrategy,M=t.treeNodeLabelProp,T=t.multiple,D=t.treeCheckable,P=t.treeCheckStrictly,V=t.labelInValue,A=t.fieldNames,H=t.treeDataSimpleMode,_=t.treeData,F=t.children,R=t.loadData,$=t.treeLoadedKeys,U=t.onTreeLoad,G=t.treeDefaultExpandAll,z=t.treeExpandedKeys,X=t.treeDefaultExpandedKeys,Y=t.onTreeExpand,J=t.treeExpandAction,Q=t.virtual,Z=t.listHeight,ee=void 0===Z?200:Z,te=t.listItemHeight,ne=void 0===te?20:te,re=t.onDropdownVisibleChange,ae=t.dropdownMatchSelectWidth,oe=void 0===ae||ae,ue=t.treeLine,ce=t.treeIcon,me=t.showTreeIcon,ve=t.switcherIcon,Ce=t.treeMotion,Ie=c(t,we),Ee=K(o),Se=D&&!P,Ne=D||P,ke=P||V,Oe=Ne||T,je=v(x,{value:h}),Le=f(je,2),Me=Le[0],Te=Le[1],De=e.useMemo((function(){return D?L||ge:xe}),[L,D]),Pe=e.useMemo((function(){return function(e){var t=e||{},n=t.label,r=t.value||"value";return{_title:n?[n]:["title","label"],value:r,key:r,children:t.children||"children"}}(A)}),[JSON.stringify(A)]),Ve=v("",{value:void 0!==w?w:I,postState:function(e){return e||""}}),Ae=f(Ve,2),He=Ae[0],Ke=Ae[1],We=pe(_,F,H),_e=function(t,n){return e.useMemo((function(){return q(t,{fieldNames:n,initWrapper:function(e){return i(i({},e),{},{valueEntities:new Map})},processEntity:function(e,t){var r=e.node[n.value];t.valueEntities.set(r,e)}})}),[t,n])}(We,Pe),Fe=_e.keyEntities,Re=_e.valueEntities,$e=e.useCallback((function(e){var t=[],n=[];return e.forEach((function(e){Re.has(e)?n.push(e):t.push(e)})),{missingRawValues:t,existRawValues:n}}),[Re]),Ue=function(t,n,r){var a=r.treeNodeFilterProp,o=r.filterTreeNode,l=r.fieldNames.children;return e.useMemo((function(){if(!n||!1===o)return t;var e;if("function"==typeof o)e=o;else{var r=n.toUpperCase();e=function(e,t){var n=t[a];return String(n).toUpperCase().includes(r)}}return function t(r){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.reduce((function(r,o){var u=o[l],c=a||e(n,se(o)),s=t(u||[],c);return(c||s.length)&&r.push(i(i({},o),{},d({isLeaf:void 0},l,s))),r}),[])}(t)}),[t,n,l,a,o])}(We,He,{fieldNames:Pe,treeNodeFilterProp:j,filterTreeNode:k}),Be=e.useCallback((function(e){if(e){if(M)return e[M];for(var t=Pe._title,n=0;n<t.length;n+=1){var r=e[t[n]];if(void 0!==r)return r}}}),[Pe,M]),qe=e.useCallback((function(e){var t=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}(e);return t.map((function(e){return function(e){return!e||"object"!==b(e)}(e)?{value:e}:e}))}),[]),Ge=e.useCallback((function(e){return qe(e).map((function(e){var t,n,r=e.label,a=e.value,o=e.halfChecked,l=Re.get(a);if(l)r=null!==(n=r)&&void 0!==n?n:Be(l.node),t=l.node.disabled;else if(void 0===r){r=qe(Me).find((function(e){return e.value===a})).label}return{label:r,value:a,halfChecked:o,disabled:t}}))}),[Re,Be,qe,Me]),ze=e.useMemo((function(){return qe(Me)}),[qe,Me]),Xe=e.useMemo((function(){var e=[],t=[];return ze.forEach((function(n){n.halfChecked?t.push(n):e.push(n)})),[e,t]}),[ze]),Ye=f(Xe,2),Je=Ye[0],Qe=Ye[1],Ze=e.useMemo((function(){return Je.map((function(e){return e.value}))}),[Je]),et=function(t,n,r,a){return e.useMemo((function(){var e=t.map((function(e){return e.value})),o=n.map((function(e){return e.value})),l=e.filter((function(e){return!a[e]}));if(r){var i=B(e,!0,a);e=i.checkedKeys,o=i.halfCheckedKeys}return[Array.from(new Set([].concat(u(l),u(e)))),o]}),[t,n,r,a])}(Je,Qe,Se,Fe),tt=f(et,2),nt=tt[0],rt=tt[1],at=e.useMemo((function(){var e=ye(nt,De,Fe,Pe).map((function(e){var t,n,r;return null!==(t=null===(n=Fe[e])||void 0===n||null===(r=n.node)||void 0===r?void 0:r[Pe.value])&&void 0!==t?t:e})).map((function(e){var t=Je.find((function(t){return t.value===e}));return{value:e,label:null==t?void 0:t.label}})),t=Ge(e),n=t[0];return!Oe&&n&&le(n.value)&&le(n.label)?[]:t.map((function(e){var t;return i(i({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[Pe,Oe,nt,Je,Ge,De,Fe]),ot=(r=at,a=e.useRef({valueLabels:new Map}),e.useMemo((function(){var e=a.current.valueLabels,t=new Map,n=r.map((function(n){var r,a=n.value,o=null!==(r=n.label)&&void 0!==r?r:e.get(a);return t.set(a,o),i(i({},n),{},{label:o})}));return a.current.valueLabels=t,[n]}),[r])),lt=f(ot,1)[0],it=de((function(t,n,r){var a=Ge(t);if(Te(a),N&&Ke(""),C){var o=t;if(Se){var l=ye(t,De,Fe,Pe);o=l.map((function(e){var t=Re.get(e);return t?t.node[Pe.value]:e}))}var i=n||{triggerValue:void 0,selected:void 0},c=i.triggerValue,d=i.selected,p=o;if(P){var f=Qe.filter((function(e){return!o.includes(e.value)}));p=[].concat(u(p),u(f))}var h=Ge(p),m={preValue:Je,triggerValue:c},v=!0;(P||"selection"===r&&!d)&&(v=!1),function(t,n,r,a,o,l){var i=null,u=null;function c(){u||(u=[],function t(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.map((function(a,s){var d="".concat(o,"-").concat(s),p=a[l.value],f=r.includes(p),h=t(a[l.children]||[],d,f),m=e.createElement(ie,a,h.map((function(e){return e.node})));if(n===p&&(i=m),f){var v={pos:d,node:m,children:h};return c||u.push(v),v}return null})).filter((function(e){return e}))}(a),u.sort((function(e,t){var n=e.node.props.value,a=t.node.props.value;return r.indexOf(n)-r.indexOf(a)})))}Object.defineProperty(t,"triggerNode",{get:function(){return s(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),c(),i}}),Object.defineProperty(t,"allCheckedNodes",{get:function(){return s(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),c(),o?u:u.map((function(e){return e.node}))}})}(m,c,t,We,v,Pe),Ne?m.checked=d:m.selected=d;var b=ke?h:h.map((function(e){return e.value}));C(Oe?b:b[0],ke?null:h.map((function(e){return e.label})),m)}})),ut=e.useCallback((function(e,t){var n,r=t.selected,a=t.source,o=Fe[e],l=null==o?void 0:o.node,i=null!==(n=null==l?void 0:l[Pe.value])&&void 0!==n?n:e;if(Oe){var c=r?[].concat(u(Ze),[i]):nt.filter((function(e){return e!==i}));if(Se){var s,d=$e(c),p=d.missingRawValues,f=d.existRawValues.map((function(e){return Re.get(e).key}));if(r)s=B(f,!0,Fe).checkedKeys;else s=B(f,{checked:!1,halfCheckedKeys:rt},Fe).checkedKeys;c=[].concat(u(p),u(s.map((function(e){return Fe[e].node[Pe.value]}))))}it(c,{selected:r,triggerValue:i},a||"option")}else it([i],{selected:!0,triggerValue:i},"option");r||!Oe?null==g||g(i,se(l)):null==y||y(i,se(l))}),[$e,Re,Fe,Pe,Oe,Ze,it,Se,g,y,nt,rt]),ct=e.useCallback((function(e){if(re){var t={};Object.defineProperty(t,"documentClickClose",{get:function(){return s(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),re(e,t)}}),[re]),st=de((function(e,t){var n=e.map((function(e){return e.value}));"clear"!==t.type?t.values.length&&ut(t.values[0].value,{selected:!1,source:"selection"}):it(n,{},"selection")})),dt=e.useMemo((function(){return{virtual:Q,dropdownMatchSelectWidth:oe,listHeight:ee,listItemHeight:ne,treeData:Ue,fieldNames:Pe,onSelect:ut,treeExpandAction:J}}),[Q,oe,ee,ne,Ue,Pe,ut,J]),pt=e.useMemo((function(){return{checkable:Ne,loadData:R,treeLoadedKeys:$,onTreeLoad:U,checkedKeys:nt,halfCheckedKeys:rt,treeDefaultExpandAll:G,treeExpandedKeys:z,treeDefaultExpandedKeys:X,onTreeExpand:Y,treeIcon:ce,treeMotion:Ce,showTreeIcon:me,switcherIcon:ve,treeLine:ue,treeNodeFilterProp:j,keyEntities:Fe}}),[Ne,R,$,U,nt,rt,G,z,X,Y,ce,Ce,me,ve,ue,j,Fe]);return e.createElement(he.Provider,{value:dt},e.createElement(fe.Provider,{value:pt},e.createElement(W,m({ref:n},Ie,{id:Ee,prefixCls:p,mode:Oe?"multiple":void 0,displayValues:lt,onDisplayValuesChange:st,searchValue:He,onSearch:function(e){Ke(e),null==E||E(e)},OptionList:be,emptyOptions:!We.length,onDropdownVisibleChange:ct,dropdownMatchSelectWidth:oe}))))}));Ie.TreeNode=ie,Ie.SHOW_ALL=xe,Ie.SHOW_PARENT=Ce,Ie.SHOW_CHILD=ge;const Ee=e=>{const{componentCls:t,treePrefixCls:n,colorBgElevated:r}=e,a=`.${n}`;return[{[`${t}-dropdown`]:[{padding:`${e.paddingXS}px ${e.paddingXS/2}px`},X(n,C(e,{colorBgContainer:r})),{[a]:{borderRadius:0,[`${a}-list-holder-inner`]:{alignItems:"stretch",[`${a}-treenode`]:{[`${a}-node-content-wrapper`]:{flex:"auto"}}}}},J(`${n}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${a}-switcher${a}-switcher_close`]:{[`${a}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};var Se=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};const Ne=(t,n)=>{var l,{prefixCls:i,size:u,disabled:c,bordered:s=!0,className:d,rootClassName:p,treeCheckable:f,multiple:h,listHeight:m=256,listItemHeight:v=26,placement:b,notFoundContent:k,switcherIcon:O,treeLine:j,getPopupContainer:L,popupClassName:M,dropdownClassName:T,treeIcon:D=!1,transitionName:P,choiceTransitionName:V="",status:A,treeExpandAction:H,builtinPlacements:K,dropdownMatchSelectWidth:W,popupMatchSelectWidth:B,allowClear:q}=t,G=Se(t,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear"]);const{getPopupContainer:X,getPrefixCls:J,renderEmpty:Q,direction:Z,virtual:ee,popupMatchSelectWidth:te,popupOverflow:ne}=e.useContext(r),re=J(),ae=J("select",i),oe=J("select-tree",i),le=J("tree-select",i),{compactSize:ie,compactItemClassnames:ue}=g(ae,Z),[ce,se]=_(ae),[de]=function(e,t){return x("TreeSelect",(e=>{const n=C(e,{treePrefixCls:t});return[Ee(n)]}),z)(e)}(le,oe),pe=o(M||T,`${le}-dropdown`,{[`${le}-dropdown-rtl`]:"rtl"===Z},p,se),fe=!(!f&&!h),he=F(G.suffixIcon,G.showArrow),me=null!==(l=null!=B?B:W)&&void 0!==l?l:te,{status:ve,hasFeedback:be,isFormItemInput:xe,feedbackIcon:Ce}=e.useContext(y),ge=N(ve,A),{suffixIcon:ye,removeIcon:we,clearIcon:Ne}=R(Object.assign(Object.assign({},G),{multiple:fe,showSuffixIcon:he,hasFeedback:be,feedbackIcon:Ce,prefixCls:ae,componentName:"TreeSelect"})),ke=!0===q?{clearIcon:Ne}:q;let Oe;Oe=void 0!==k?k:(null==Q?void 0:Q("Select"))||e.createElement($,{componentName:"Select"});const je=a(G,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),Le=e.useMemo((()=>void 0!==b?b:"rtl"===Z?"bottomRight":"bottomLeft"),[b,Z]),Me=U(K,ne),Te=w((e=>{var t;return null!==(t=null!=u?u:ie)&&void 0!==t?t:e})),De=e.useContext(I),Pe=null!=c?c:De,Ve=o(!i&&le,{[`${ae}-lg`]:"large"===Te,[`${ae}-sm`]:"small"===Te,[`${ae}-rtl`]:"rtl"===Z,[`${ae}-borderless`]:!s,[`${ae}-in-form-item`]:xe},E(ae,ge,be),ue,d,p,se);return ce(de(e.createElement(Ie,Object.assign({virtual:ee,disabled:Pe},je,{dropdownMatchSelectWidth:me,builtinPlacements:Me,ref:n,prefixCls:ae,className:Ve,listHeight:m,listItemHeight:v,treeCheckable:f?e.createElement("span",{className:`${ae}-tree-checkbox-inner`}):f,treeLine:!!j,suffixIcon:ye,multiple:fe,placement:Le,removeIcon:we,allowClear:ke,switcherIcon:t=>e.createElement(Y,{prefixCls:oe,switcherIcon:O,treeNodeProps:t,showLine:j}),showTreeIcon:D,notFoundContent:Oe,getPopupContainer:L||X,treeMotion:null,dropdownClassName:pe,choiceTransitionName:S(re,"",V),transitionName:S(re,"slide-up",P),treeExpandAction:H}))))},ke=e.forwardRef(Ne),Oe=l(ke);ke.TreeNode=ie,ke.SHOW_ALL=xe,ke.SHOW_PARENT=Ce,ke.SHOW_CHILD=ge,ke._InternalPanelDoNotUseOrYouWillBeFired=Oe;const je=ke;function Le({title:t,show:n,formValue:r,onOk:a,onCancel:o}){const[l]=P.useForm(),i=k(),[u,c]=e.useState(O),s=e.useCallback(((e,t=i)=>{let n="";if(!t||!e)return n;for(let r=0;r<t.length&&(t[r].id===e?n=t[r].name:t[r].children&&(n=s(e,t[r].children)),!n);r+=1);return n}),[i]),d=e=>{c(O.filter((t=>t.value.includes(e.toLowerCase()))))};return e.useEffect((()=>{if(l.setFieldsValue({...r}),r.parentId){const e=s(r.parentId);d(e)}}),[r,l,s]),j.jsx(L,{title:t,open:n,onOk:a,onCancel:o,children:j.jsxs(P,{initialValues:r,form:l,labelCol:{span:4},wrapperCol:{span:18},layout:"horizontal",children:[j.jsx(P.Item,{label:"Type",name:"type",required:!0,children:j.jsxs(V.Group,{optionType:"button",buttonStyle:"solid",children:[j.jsx(V,{value:M.CATALOGUE,children:"CATALOGUE"}),j.jsx(V,{value:M.MENU,children:"MENU"})]})}),j.jsx(P.Item,{label:"Name",name:"name",required:!0,children:j.jsx(T,{})}),j.jsx(P.Item,{label:"Label",name:"label",required:!0,tooltip:"internationalization config",children:j.jsx(T,{})}),j.jsx(P.Item,{label:"Parent",name:"parentId",required:!0,children:j.jsx(je,{fieldNames:{label:"name",value:"id",children:"children"},allowClear:!0,treeData:i,onChange:(e,t)=>{d(t[0])}})}),j.jsx(P.Item,{label:"Route",name:"route",required:!0,children:j.jsx(T,{})}),j.jsx(P.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.type!==t.type,children:({getFieldValue:e})=>e("type")===M.MENU?j.jsx(P.Item,{label:"Component",name:"component",required:e("type")===M.MENU,children:j.jsx(ae,{options:u,filterOption:(e,t)=>(t?.label||"").toLowerCase().includes(e.toLowerCase())})}):null}),j.jsx(P.Item,{label:"Icon",name:"icon",tooltip:"local icon should start with ic",children:j.jsx(T,{})}),j.jsx(P.Item,{label:"Hide",name:"hide",tooltip:"hide in menu",children:j.jsxs(V.Group,{optionType:"button",buttonStyle:"solid",children:[j.jsx(V,{value:!1,children:"Show"}),j.jsx(V,{value:!0,children:"Hide"})]})}),j.jsx(P.Item,{label:"Order",name:"order",children:j.jsx(Q,{style:{width:"100%"}})}),j.jsx(P.Item,{label:"Status",name:"status",required:!0,children:j.jsxs(V.Group,{optionType:"button",buttonStyle:"solid",children:[j.jsx(V,{value:D.ENABLE,children:" Enable "}),j.jsx(V,{value:D.DISABLE,children:" Disable "})]})})]})})}export{Le as default};
