import{r as e,bS as t,aT as n,W as r,bW as l,b1 as o,X as a,au as i,aG as c,as as s,bC as u,ar as d,bG as p,at as f,bm as h,y as m,bg as v,bn as b,Q as g,am as C,V as x,bT as y,aE as w,bU as S,aU as I,aL as E,aK as k,bV as N,bX as O,bY as j,df as L,di as T,j as M,c$ as P,dh as D,aj as V,dg as A}from"./index-13a3cc83.js";import{F as H}from"./index-8bab76df.js";import{R as K}from"./index-0897db24.js";import{S as R,u as W,a as $,B as _,b as F,c as U,D as B,m as z}from"./index-adbff001.js";import{a as G,c as q,T as X,i as Y,h as J,S as Q}from"./iconUtil-d89e2e08.js";import{u as Z}from"./useIcons-51002f6c.js";import{g as ee}from"./index-b73bcf25.js";import{I as te}from"./index-0160256f.js";import"./row-9bb9c0ab.js";import"./index-fdbbebf0.js";import"./List-5adb85bb.js";const{Option:ne}=R;function re(e){return(null==e?void 0:e.type)&&(e.type.isSelectOption||e.type.isSelectOptGroup)}const le=(t,i)=>{var c;const{prefixCls:s,className:u,popupClassName:d,dropdownClassName:p,children:f,dataSource:h}=t,m=n(f);let v;1===m.length&&e.isValidElement(m[0])&&!re(m[0])&&([v]=m);const b=v?()=>v:void 0;let g;g=m.length&&re(m[0])?f:h?h.map((t=>{if(e.isValidElement(t))return t;switch(typeof t){case"string":return e.createElement(ne,{key:t,value:t},t);case"object":{const{value:n}=t;return e.createElement(ne,{key:n,value:n},t.text)}default:return}})):[];const{getPrefixCls:C}=e.useContext(r),x=C("select",s),[y]=l("SelectLike",null===(c=t.dropdownStyle)||void 0===c?void 0:c.zIndex);return e.createElement(R,Object.assign({ref:i,suffixIcon:null},o(t,["dataSource","dropdownClassName"]),{prefixCls:x,popupClassName:d||p,dropdownStyle:Object.assign(Object.assign({},t.dropdownStyle),{zIndex:y}),className:a(`${x}-auto-complete`,u),mode:R.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:b}),g)},oe=e.forwardRef(le),ae=t(oe);oe.Option=ne,oe._InternalPanelDoNotUseOrYouWillBeFired=ae;const ie=oe;function ce(e){return!e||e.disabled||e.disableCheckbox||!1===e.checkable}function se(e){return null==e}var ue=function(){return null},de=["children","value"];function pe(t){return n(t).map((function(t){if(!e.isValidElement(t)||!t.type)return null;var n=t,r=n.key,l=n.props,o=l.children,a=l.value,c=s(l,de),u=i({key:r,value:a},c),d=pe(o);return d.length&&(u.children=d),u})).filter((function(e){return e}))}function fe(e){if(!e)return e;var t=i({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return u(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function he(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){return n.current.apply(n,arguments)}),[]);return r}function me(t,n,r){return e.useMemo((function(){return t?r?function(e,t){var n=t.id,r=t.pId,l=t.rootPId,o={},a=[];return e.map((function(e){var t=i({},e),r=t[n];return o[r]=t,t.key=t.key||r,t})).forEach((function(e){var t=e[r],n=o[t];n&&(n.children=n.children||[],n.children.push(e)),(t===l||!n&&null===l)&&a.push(e)})),a}(t,i({id:"id",pId:"pId",rootPId:null},!0!==r?r:{})):t:pe(n)}),[n,r,t])}var ve=e.createContext(null),be=e.createContext(null),ge={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Ce=function(t,n){var r=W(),l=r.prefixCls,o=r.multiple,a=r.searchValue,i=r.toggleOpen,s=r.open,u=r.notFoundContent,d=e.useContext(be),v=d.virtual,b=d.listHeight,g=d.listItemHeight,C=d.listItemScrollOffset,x=d.treeData,y=d.fieldNames,w=d.onSelect,S=d.dropdownMatchSelectWidth,I=d.treeExpandAction,E=d.treeTitleRender,k=d.onPopupScroll,N=e.useContext(ve),O=N.checkable,j=N.checkedKeys,L=N.halfCheckedKeys,T=N.treeExpandedKeys,M=N.treeDefaultExpandAll,P=N.treeDefaultExpandedKeys,D=N.onTreeExpand,V=N.treeIcon,A=N.showTreeIcon,H=N.switcherIcon,K=N.treeLine,R=N.treeNodeFilterProp,$=N.loadData,_=N.treeLoadedKeys,F=N.treeMotion,U=N.onTreeLoad,B=N.keyEntities,z=e.useRef(),G=p((function(){return x}),[s,x],(function(e,t){return t[0]&&e[1]!==t[1]})),q=e.useState(null),Y=f(q,2),J=Y[0],Q=Y[1],Z=B[J],ee=e.useMemo((function(){return O?{checked:j,halfChecked:L}:null}),[O,j,L]);e.useEffect((function(){var e;s&&!o&&j.length&&(null===(e=z.current)||void 0===e||e.scrollTo({key:j[0]}),Q(j[0]))}),[s]);var te=String(a).toLowerCase(),ne=e.useState(P),re=f(ne,2),le=re[0],oe=re[1],ae=e.useState(null),ie=f(ae,2),se=ie[0],ue=ie[1],de=e.useMemo((function(){return T?c(T):a?se:le}),[le,se,T,a]);e.useEffect((function(){a&&ue(function(e,t){var n=[];return function e(r){r.forEach((function(r){var l=r[t.children];l&&(n.push(r[t.value]),e(l))}))}(e),n}(x,y))}),[a]);var pe=function(e){e.preventDefault()},fe=function(e,t){var n=t.node;O&&ce(n)||(w(n.key,{selected:!j.includes(n.key)}),o||i(!1))};if(e.useImperativeHandle(n,(function(){var e;return{scrollTo:null===(e=z.current)||void 0===e?void 0:e.scrollTo,onKeyDown:function(e){var t;switch(e.which){case h.UP:case h.DOWN:case h.LEFT:case h.RIGHT:null===(t=z.current)||void 0===t||t.onKeyDown(e);break;case h.ENTER:if(Z){var n=(null==Z?void 0:Z.node)||{},r=n.selectable,l=n.value;!1!==r&&fe(0,{node:{key:J},selected:!j.includes(l)})}break;case h.ESC:i(!1)}},onKeyUp:function(){}}})),0===G.length)return e.createElement("div",{role:"listbox",className:"".concat(l,"-empty"),onMouseDown:pe},u);var he={fieldNames:y};return _&&(he.loadedKeys=_),de&&(he.expandedKeys=de),e.createElement("div",{onMouseDown:pe},Z&&s&&e.createElement("span",{style:ge,"aria-live":"assertive"},Z.node.value),e.createElement(X,m({ref:z,focusable:!1,prefixCls:"".concat(l,"-tree"),treeData:G,height:b,itemHeight:g,itemScrollOffset:C,virtual:!1!==v&&!1!==S,multiple:o,icon:V,showIcon:A,switcherIcon:H,showLine:K,loadData:a?null:$,motion:F,activeKey:J,checkable:O,checkStrictly:!0,checkedKeys:ee,selectedKeys:O?[]:j,defaultExpandAll:M,titleRender:E},he,{onActiveChange:Q,onSelect:fe,onCheck:fe,onExpand:function(e){oe(e),ue(e),D&&D(e)},onLoad:U,filterTreeNode:function(e){return!!te&&String(e[R]).toLowerCase().includes(te)},expandAction:I,onScroll:k})))},xe=e.forwardRef(Ce),ye="SHOW_ALL",we="SHOW_PARENT",Se="SHOW_CHILD";function Ie(e,t,n,r){var l=new Set(e);return t===Se?e.filter((function(e){var t=n[e];return!(t&&t.children&&t.children.some((function(e){var t=e.node;return l.has(t[r.value])}))&&t.children.every((function(e){var t=e.node;return ce(t)||l.has(t[r.value])})))})):t===we?e.filter((function(e){var t=n[e],r=t?t.parent:null;return!(r&&!ce(r.node)&&l.has(r.key))})):e}var Ee=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];var ke=e.forwardRef((function(t,n){var r,l,o=t.id,a=t.prefixCls,p=void 0===a?"rc-tree-select":a,h=t.value,g=t.defaultValue,C=t.onChange,x=t.onSelect,y=t.onDeselect,w=t.searchValue,S=t.inputValue,I=t.onSearch,E=t.autoClearSearchValue,k=void 0===E||E,N=t.filterTreeNode,O=t.treeNodeFilterProp,j=void 0===O?"value":O,L=t.showCheckedStrategy,T=t.treeNodeLabelProp,M=t.multiple,P=t.treeCheckable,D=t.treeCheckStrictly,V=t.labelInValue,A=t.fieldNames,H=t.treeDataSimpleMode,K=t.treeData,R=t.children,W=t.loadData,F=t.treeLoadedKeys,U=t.onTreeLoad,B=t.treeDefaultExpandAll,z=t.treeExpandedKeys,X=t.treeDefaultExpandedKeys,Y=t.onTreeExpand,J=t.treeExpandAction,Q=t.virtual,Z=t.listHeight,ee=void 0===Z?200:Z,te=t.listItemHeight,ne=void 0===te?20:te,re=t.listItemScrollOffset,le=void 0===re?0:re,oe=t.onDropdownVisibleChange,ae=t.dropdownMatchSelectWidth,ie=void 0===ae||ae,ce=t.treeLine,de=t.treeIcon,pe=t.showTreeIcon,ge=t.switcherIcon,Ce=t.treeMotion,we=t.treeTitleRender,ke=t.onPopupScroll,Ne=s(t,Ee),Oe=$(o),je=P&&!D,Le=P||D,Te=D||V,Me=Le||M,Pe=v(g,{value:h}),De=f(Pe,2),Ve=De[0],Ae=De[1],He=e.useMemo((function(){return P?L||Se:ye}),[L,P]),Ke=e.useMemo((function(){return function(e){var t=e||{},n=t.label,r=t.value||"value";return{_title:n?[n]:["title","label"],value:r,key:r,children:t.children||"children"}}(A)}),[JSON.stringify(A)]),Re=v("",{value:void 0!==w?w:S,postState:function(e){return e||""}}),We=f(Re,2),$e=We[0],_e=We[1],Fe=me(K,R,H),Ue=function(t,n){return e.useMemo((function(){return q(t,{fieldNames:n,initWrapper:function(e){return i(i({},e),{},{valueEntities:new Map})},processEntity:function(e,t){var r=e.node[n.value];t.valueEntities.set(r,e)}})}),[t,n])}(Fe,Ke),Be=Ue.keyEntities,ze=Ue.valueEntities,Ge=e.useCallback((function(e){var t=[],n=[];return e.forEach((function(e){ze.has(e)?n.push(e):t.push(e)})),{missingRawValues:t,existRawValues:n}}),[ze]),qe=function(t,n,r){var l=r.treeNodeFilterProp,o=r.filterTreeNode,a=r.fieldNames.children;return e.useMemo((function(){if(!n||!1===o)return t;var e;if("function"==typeof o)e=o;else{var r=n.toUpperCase();e=function(e,t){var n=t[l];return String(n).toUpperCase().includes(r)}}return function t(r){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.reduce((function(r,o){var c=o[a],s=l||e(n,fe(o)),u=t(c||[],s);return(s||u.length)&&r.push(i(i({},o),{},d({isLeaf:void 0},a,u))),r}),[])}(t)}),[t,n,a,l,o])}(Fe,$e,{fieldNames:Ke,treeNodeFilterProp:j,filterTreeNode:N}),Xe=e.useCallback((function(e){if(e){if(T)return e[T];for(var t=Ke._title,n=0;n<t.length;n+=1){var r=e[t[n]];if(void 0!==r)return r}}}),[Ke,T]),Ye=e.useCallback((function(e){var t=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}(e);return t.map((function(e){return function(e){return!e||"object"!==b(e)}(e)?{value:e}:e}))}),[]),Je=e.useCallback((function(e){return Ye(e).map((function(e){var t,n,r=e.label,l=e.value,o=e.halfChecked,a=ze.get(l);if(a)r=we?we(a.node):null!==(n=r)&&void 0!==n?n:Xe(a.node),t=a.node.disabled;else if(void 0===r){r=Ye(Ve).find((function(e){return e.value===l})).label}return{label:r,value:l,halfChecked:o,disabled:t}}))}),[ze,Xe,Ye,Ve]),Qe=e.useMemo((function(){return Ye(null===Ve?[]:Ve)}),[Ye,Ve]),Ze=e.useMemo((function(){var e=[],t=[];return Qe.forEach((function(n){n.halfChecked?t.push(n):e.push(n)})),[e,t]}),[Qe]),et=f(Ze,2),tt=et[0],nt=et[1],rt=e.useMemo((function(){return tt.map((function(e){return e.value}))}),[tt]),lt=function(t,n,r,l){return e.useMemo((function(){var e=t.map((function(e){return e.value})),o=n.map((function(e){return e.value})),a=e.filter((function(e){return!l[e]}));if(r){var i=G(e,!0,l);e=i.checkedKeys,o=i.halfCheckedKeys}return[Array.from(new Set([].concat(c(a),c(e)))),o]}),[t,n,r,l])}(tt,nt,je,Be),ot=f(lt,2),at=ot[0],it=ot[1],ct=e.useMemo((function(){var e=Ie(at,He,Be,Ke).map((function(e){var t,n;return null!==(t=null===(n=Be[e])||void 0===n||null===(n=n.node)||void 0===n?void 0:n[Ke.value])&&void 0!==t?t:e})).map((function(e){var t=tt.find((function(t){return t.value===e})),n=V?null==t?void 0:t.label:null==we?void 0:we(t);return{value:e,label:n}})),t=Je(e),n=t[0];return!Me&&n&&se(n.value)&&se(n.label)?[]:t.map((function(e){var t;return i(i({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[Ke,Me,at,tt,Je,He,Be]),st=(r=ct,l=e.useRef({valueLabels:new Map}),e.useMemo((function(){var e=l.current.valueLabels,t=new Map,n=r.map((function(n){var r,l=n.value,o=null!==(r=n.label)&&void 0!==r?r:e.get(l);return t.set(l,o),i(i({},n),{},{label:o})}));return l.current.valueLabels=t,[n]}),[r])),ut=f(st,1)[0],dt=he((function(t,n,r){var l=Je(t);if(Ae(l),k&&_e(""),C){var o=t;if(je){var a=Ie(t,He,Be,Ke);o=a.map((function(e){var t=ze.get(e);return t?t.node[Ke.value]:e}))}var i=n||{triggerValue:void 0,selected:void 0},s=i.triggerValue,d=i.selected,p=o;if(D){var f=nt.filter((function(e){return!o.includes(e.value)}));p=[].concat(c(p),c(f))}var h=Je(p),m={preValue:tt,triggerValue:s},v=!0;(D||"selection"===r&&!d)&&(v=!1),function(t,n,r,l,o,a){var i=null,c=null;function s(){c||(c=[],function t(l){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l.map((function(l,u){var d="".concat(o,"-").concat(u),p=l[a.value],f=r.includes(p),h=t(l[a.children]||[],d,f),m=e.createElement(ue,l,h.map((function(e){return e.node})));if(n===p&&(i=m),f){var v={pos:d,node:m,children:h};return s||c.push(v),v}return null})).filter((function(e){return e}))}(l),c.sort((function(e,t){var n=e.node.props.value,l=t.node.props.value;return r.indexOf(n)-r.indexOf(l)})))}Object.defineProperty(t,"triggerNode",{get:function(){return u(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),s(),i}}),Object.defineProperty(t,"allCheckedNodes",{get:function(){return u(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),s(),o?c:c.map((function(e){return e.node}))}})}(m,s,t,Fe,v,Ke),Le?m.checked=d:m.selected=d;var b=Te?h:h.map((function(e){return e.value}));C(Me?b:b[0],Te?null:h.map((function(e){return e.label})),m)}})),pt=e.useCallback((function(e,t){var n,r=t.selected,l=t.source,o=Be[e],a=null==o?void 0:o.node,i=null!==(n=null==a?void 0:a[Ke.value])&&void 0!==n?n:e;if(Me){var s=r?[].concat(c(rt),[i]):at.filter((function(e){return e!==i}));if(je){var u,d=Ge(s),p=d.missingRawValues,f=d.existRawValues.map((function(e){return ze.get(e).key}));if(r)u=G(f,!0,Be).checkedKeys;else u=G(f,{checked:!1,halfCheckedKeys:it},Be).checkedKeys;s=[].concat(c(p),c(u.map((function(e){return Be[e].node[Ke.value]}))))}dt(s,{selected:r,triggerValue:i},l||"option")}else dt([i],{selected:!0,triggerValue:i},"option");r||!Me?null==x||x(i,fe(a)):null==y||y(i,fe(a))}),[Ge,ze,Be,Ke,Me,rt,dt,je,x,y,at,it]),ft=e.useCallback((function(e){if(oe){var t={};Object.defineProperty(t,"documentClickClose",{get:function(){return u(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),oe(e,t)}}),[oe]),ht=he((function(e,t){var n=e.map((function(e){return e.value}));"clear"!==t.type?t.values.length&&pt(t.values[0].value,{selected:!1,source:"selection"}):dt(n,{},"selection")})),mt=e.useMemo((function(){return{virtual:Q,dropdownMatchSelectWidth:ie,listHeight:ee,listItemHeight:ne,listItemScrollOffset:le,treeData:qe,fieldNames:Ke,onSelect:pt,treeExpandAction:J,treeTitleRender:we,onPopupScroll:ke}}),[Q,ie,ee,ne,le,qe,Ke,pt,J,we,ke]),vt=e.useMemo((function(){return{checkable:Le,loadData:W,treeLoadedKeys:F,onTreeLoad:U,checkedKeys:at,halfCheckedKeys:it,treeDefaultExpandAll:B,treeExpandedKeys:z,treeDefaultExpandedKeys:X,onTreeExpand:Y,treeIcon:de,treeMotion:Ce,showTreeIcon:pe,switcherIcon:ge,treeLine:ce,treeNodeFilterProp:j,keyEntities:Be}}),[Le,W,F,U,at,it,B,z,X,Y,de,Ce,pe,ge,ce,j,Be]);return e.createElement(be.Provider,{value:mt},e.createElement(ve.Provider,{value:vt},e.createElement(_,m({ref:n},Ne,{id:Oe,prefixCls:p,mode:Me?"multiple":void 0,displayValues:ut,onDisplayValuesChange:ht,searchValue:$e,onSearch:function(e){_e(e),null==I||I(e)},OptionList:xe,emptyOptions:!Fe.length,onDropdownVisibleChange:ft,dropdownMatchSelectWidth:ie}))))}));ke.TreeNode=ue,ke.SHOW_ALL=ye,ke.SHOW_PARENT=we,ke.SHOW_CHILD=Se;const Ne=e=>{const{componentCls:t,treePrefixCls:n,colorBgElevated:r}=e,l=`.${n}`;return[{[`${t}-dropdown`]:[{padding:`${x(e.paddingXS)} ${x(e.calc(e.paddingXS).div(2).equal())}`},J(n,C(e,{colorBgContainer:r})),{[l]:{borderRadius:0,[`${l}-list-holder-inner`]:{alignItems:"stretch",[`${l}-treenode`]:{[`${l}-node-content-wrapper`]:{flex:"auto"}}}}},ee(`${n}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${l}-switcher${l}-switcher_close`]:{[`${l}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};var Oe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n};const je=(t,n)=>{var i;const{prefixCls:c,size:s,disabled:u,bordered:d=!0,className:p,rootClassName:f,treeCheckable:h,multiple:m,listHeight:v=256,listItemHeight:b=26,placement:x,notFoundContent:L,switcherIcon:T,treeLine:M,getPopupContainer:P,popupClassName:D,dropdownClassName:V,treeIcon:A=!1,transitionName:H,choiceTransitionName:K="",status:R,treeExpandAction:W,builtinPlacements:$,dropdownMatchSelectWidth:_,popupMatchSelectWidth:G,allowClear:q,variant:X,dropdownStyle:J,tagRender:ee}=t,te=Oe(t,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender"]),{getPopupContainer:ne,getPrefixCls:re,renderEmpty:le,direction:oe,virtual:ae,popupMatchSelectWidth:ie,popupOverflow:ce}=e.useContext(r),se=re(),ue=re("select",c),de=re("select-tree",c),pe=re("tree-select",c),{compactSize:fe,compactItemClassnames:he}=y(ue,oe),me=w(ue),ve=w(pe),[be,ge,Ce]=F(ue,me),[xe]=function(e,t,n){return g("TreeSelect",(e=>{const n=C(e,{treePrefixCls:t});return[Ne(n)]}),Y)(e,n)}(pe,de,ve),[ye,we]=S("treeSelect",X,d),Se=a(D||V,`${pe}-dropdown`,{[`${pe}-dropdown-rtl`]:"rtl"===oe},f,Ce,me,ve,ge),Ie=!(!h&&!m),Ee=U(t.suffixIcon,t.showArrow),je=null!==(i=null!=G?G:_)&&void 0!==i?i:ie,{status:Le,hasFeedback:Te,isFormItemInput:Me,feedbackIcon:Pe}=e.useContext(I),De=j(Le,R),{suffixIcon:Ve,removeIcon:Ae,clearIcon:He}=Z(Object.assign(Object.assign({},te),{multiple:Ie,showSuffixIcon:Ee,hasFeedback:Te,feedbackIcon:Pe,prefixCls:ue,componentName:"TreeSelect"})),Ke=!0===q?{clearIcon:He}:q;let Re;Re=void 0!==L?L:(null==le?void 0:le("Select"))||e.createElement(B,{componentName:"Select"});const We=o(te,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),$e=e.useMemo((()=>void 0!==x?x:"rtl"===oe?"bottomRight":"bottomLeft"),[x,oe]),_e=E((e=>{var t;return null!==(t=null!=s?s:fe)&&void 0!==t?t:e})),Fe=e.useContext(k),Ue=null!=u?u:Fe,Be=a(!c&&pe,{[`${ue}-lg`]:"large"===_e,[`${ue}-sm`]:"small"===_e,[`${ue}-rtl`]:"rtl"===oe,[`${ue}-${ye}`]:we,[`${ue}-in-form-item`]:Me},N(ue,De,Te),he,p,f,Ce,me,ve,ge),[ze]=l("SelectLike",null==J?void 0:J.zIndex);return be(xe(e.createElement(ke,Object.assign({virtual:ae,disabled:Ue},We,{dropdownMatchSelectWidth:je,builtinPlacements:z($,ce),ref:n,prefixCls:ue,className:Be,listHeight:v,listItemHeight:b,treeCheckable:h?e.createElement("span",{className:`${ue}-tree-checkbox-inner`}):h,treeLine:!!M,suffixIcon:Ve,multiple:Ie,placement:$e,removeIcon:Ae,allowClear:Ke,switcherIcon:t=>e.createElement(Q,{prefixCls:de,switcherIcon:T,treeNodeProps:t,showLine:M}),showTreeIcon:A,notFoundContent:Re,getPopupContainer:P||ne,treeMotion:null,dropdownClassName:Se,dropdownStyle:Object.assign(Object.assign({},J),{zIndex:ze}),choiceTransitionName:O(se,"",K),transitionName:O(se,"slide-up",H),treeExpandAction:W,tagRender:Ie?ee:void 0}))))},Le=e.forwardRef(je),Te=t(Le);Le.TreeNode=ue,Le.SHOW_ALL=ye,Le.SHOW_PARENT=we,Le.SHOW_CHILD=Se,Le._InternalPanelDoNotUseOrYouWillBeFired=Te;const Me=Le;function Pe({title:t,show:n,formValue:r,onOk:l,onCancel:o}){const[a]=H.useForm(),i=L(),[c,s]=e.useState(T),u=e.useCallback(((e,t=i)=>{let n="";if(!t||!e)return n;for(let r=0;r<t.length&&(t[r].id===e?n=t[r].name:t[r].children&&(n=u(e,t[r].children)),!n);r+=1);return n}),[i]),d=e=>{s(T.filter((t=>t.value.includes(e.toLowerCase()))))};return e.useEffect((()=>{if(a.setFieldsValue({...r}),r.parentId){const e=u(r.parentId);d(e)}}),[r,a,u]),M.jsx(P,{title:t,open:n,onOk:l,onCancel:o,children:M.jsxs(H,{initialValues:r,form:a,labelCol:{span:4},wrapperCol:{span:18},layout:"horizontal",children:[M.jsx(H.Item,{label:"Type",name:"type",required:!0,children:M.jsxs(K.Group,{optionType:"button",buttonStyle:"solid",children:[M.jsx(K,{value:D.CATALOGUE,children:"CATALOGUE"}),M.jsx(K,{value:D.MENU,children:"MENU"})]})}),M.jsx(H.Item,{label:"Name",name:"name",required:!0,children:M.jsx(V,{})}),M.jsx(H.Item,{label:"Label",name:"label",required:!0,tooltip:"internationalization config",children:M.jsx(V,{})}),M.jsx(H.Item,{label:"Parent",name:"parentId",required:!0,children:M.jsx(Me,{fieldNames:{label:"name",value:"id",children:"children"},allowClear:!0,treeData:i,onChange:(e,t)=>{d(t[0])}})}),M.jsx(H.Item,{label:"Route",name:"route",required:!0,children:M.jsx(V,{})}),M.jsx(H.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.type!==t.type,children:({getFieldValue:e})=>e("type")===D.MENU?M.jsx(H.Item,{label:"Component",name:"component",required:e("type")===D.MENU,children:M.jsx(ie,{options:c,filterOption:(e,t)=>(t?.label||"").toLowerCase().includes(e.toLowerCase())})}):null}),M.jsx(H.Item,{label:"Icon",name:"icon",tooltip:"local icon should start with ic",children:M.jsx(V,{})}),M.jsx(H.Item,{label:"Hide",name:"hide",tooltip:"hide in menu",children:M.jsxs(K.Group,{optionType:"button",buttonStyle:"solid",children:[M.jsx(K,{value:!1,children:"Show"}),M.jsx(K,{value:!0,children:"Hide"})]})}),M.jsx(H.Item,{label:"Order",name:"order",children:M.jsx(te,{style:{width:"100%"}})}),M.jsx(H.Item,{label:"Status",name:"status",required:!0,children:M.jsxs(K.Group,{optionType:"button",buttonStyle:"solid",children:[M.jsx(K,{value:A.ENABLE,children:" Enable "}),M.jsx(K,{value:A.DISABLE,children:" Disable "})]})})]})})}export{Pe as default};
